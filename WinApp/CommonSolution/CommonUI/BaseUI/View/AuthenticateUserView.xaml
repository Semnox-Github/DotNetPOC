<Window x:Class="Semnox.Parafait.CommonUI.AuthenticateUserView"
        x:Name="AuthenticateUserViewWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Semnox.Parafait.CommonUI"
        mc:Ignorable="d"
        Title="Authenticate User">
    <Window.Resources>
        <Style x:Key="KeyboardButtonStyle"
               TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="border"
                                BorderBrush="{StaticResource Control.BorderBrush}"
                                BorderThickness="0,0,0,3"
                                CornerRadius="{StaticResource CornerRadius}"
                                Background="{TemplateBinding Background}">
                            <Grid Margin="12"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center">
                                <Path Data="M0 0H54V32H0z" />
                                <Path Data="M50.4 32c1.997 0 3.6-1.583 3.6-3.556V3.556C54 1.583 52.397 0 50.4 0H3.6C1.603 0 0 1.583 0 3.556v24.888C0 30.417 1.603 32 3.6 32h46.8zm0-3.556H3.6V3.556h46.8v24.888zM10.35 10.667c.253 0 .45-.195.45-.445V7.556c0-.25-.197-.445-.45-.445h-2.7c-.253 0-.45.195-.45.445v2.666c0 .25.197.445.45.445h2.7zm7.2 0c.253 0 .45-.195.45-.445V7.556c0-.25-.197-.445-.45-.445h-2.7c-.253 0-.45.195-.45.445v2.666c0 .25.197.445.45.445h2.7zm7.2 0c.253 0 .45-.195.45-.445V7.556c0-.25-.197-.445-.45-.445h-2.7c-.253 0-.45.195-.45.445v2.666c0 .25.197.445.45.445h2.7zm7.2 0c.253 0 .45-.195.45-.445V7.556c0-.25-.197-.445-.45-.445h-2.7c-.253 0-.45.195-.45.445v2.666c0 .25.197.445.45.445h2.7zm7.2 0c.253 0 .45-.195.45-.445V7.556c0-.25-.197-.445-.45-.445h-2.7c-.253 0-.45.195-.45.445v2.666c0 .25.197.445.45.445h2.7zm7.2 7.11c.253 0 .45-.194.45-.444V7.556c0-.25-.197-.445-.45-.445h-2.7c-.253 0-.45.195-.45.445v6.666h-3.15c-.253 0-.45.195-.45.445v2.666c0 .25.197.445.45.445h6.3zm-32.4 0c.253 0 .45-.194.45-.444v-2.666c0-.25-.197-.445-.45-.445h-6.3c-.253 0-.45.195-.45.445v2.666c0 .25.197.445.45.445h6.3zm7.2 0c.253 0 .45-.194.45-.444v-2.666c0-.25-.197-.445-.45-.445h-2.7c-.253 0-.45.195-.45.445v2.666c0 .25.197.445.45.445h2.7zm7.2 0c.253 0 .45-.194.45-.444v-2.666c0-.25-.197-.445-.45-.445h-2.7c-.253 0-.45.195-.45.445v2.666c0 .25.197.445.45.445h2.7zm7.2 0c.253 0 .45-.194.45-.444v-2.666c0-.25-.197-.445-.45-.445h-2.7c-.253 0-.45.195-.45.445v2.666c0 .25.197.445.45.445h2.7zm-25.2 7.112c.253 0 .45-.195.45-.445v-2.666c0-.25-.197-.445-.45-.445h-2.7c-.253 0-.45.195-.45.445v2.666c0 .25.197.445.45.445h2.7zm28.8 0c.253 0 .45-.195.45-.445v-2.666c0-.25-.197-.445-.45-.445h-24.3c-.253 0-.45.195-.45.445v2.666c0 .25.197.445.45.445h24.3zm7.2 0c.253 0 .45-.195.45-.445v-2.666c0-.25-.197-.445-.45-.445h-2.7c-.253 0-.45.195-.45.445v2.666c0 .25.197.445.45.445h2.7z"
                                                      Fill="{StaticResource Control.BorderBrush.Focused}"
                                                      Stretch="Uniform" />
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsKeyboardVisible}"
                             Value="False">
                    <Setter Property="Visibility"
                            Value="Collapsed" />
                </DataTrigger>
                <DataTrigger Binding="{Binding LoginStyle}"
                             Value="FullScreen">
                    <Setter Property="Visibility"
                            Value="Collapsed" />
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="CloseButtonStyle"
               TargetType="{x:Type Button}">
            <Setter Property="HorizontalAlignment"
                    Value="Right"/>
            <Setter Property="VerticalAlignment"
                    Value="Top"/>
            <Setter Property="Width"
                    Value="{StaticResource Close.Button.Width}"/>
            <Setter Property="Height"
                    Value="{Binding Width,RelativeSource={RelativeSource Mode=Self}}"/>
            <Setter Property="CommandParameter"
                    Value="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=Window}}"/>
            <Setter Property="Command"
                    Value="{Binding CloseCommand}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Padding="12"
                                CornerRadius="{Binding Width,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=Button}}"
                                Background="{StaticResource Action.Active.Background}">
                            <Path Stroke="{StaticResource Action.Active.Foreground}"
                                  Data="M0,0 L1,1 M0,1 L1,0"
                                  Stretch="Uniform"
                                  StrokeThickness="2" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsMultiScreenRowTwo}"
                             Value="True">
                    <Setter Property="Margin"
                            Value="0,-13,-24,0" />
                </DataTrigger>
                <DataTrigger Binding="{Binding IsMultiScreenRowTwo}"
                             Value="False">
                    <Setter Property="Margin"
                            Value="0,-20,-24,0" />
                </DataTrigger>
                <DataTrigger Binding="{Binding LoginStyle}"
                             Value="FullScreen">
                    <Setter Property="Visibility"
                            Value="Collapsed" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid x:Name="MainGrid">
        <Grid VerticalAlignment="Center">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <Grid x:Name="ContentGridContainer"
                  Grid.Row="0">
                <Grid.Style>
                    <Style TargetType="Grid">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsMultiScreenRowTwo}"
                                         Value="False">
                                <Setter Property="Margin"
                                        Value="0,32" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding IsMultiScreenRowTwo}"
                                         Value="True">
                                <Setter Property="Margin"
                                        Value="0,8" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Path=IsLogoVisible}"
                                         Value="False">
                                <Setter Property="Visibility"
                                        Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Grid.Style>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="3*" />
                </Grid.ColumnDefinitions>

                <Image Grid.Column="0"
                       x:Name="imgLogo"
                       Height="70"
                       RenderOptions.BitmapScalingMode="HighQuality"
                       Source="pack://application:,,,/CommonUI;component/Styles/Resources/POS_ScreenSaverLogo.png" />

                <StackPanel Grid.Column="1"
                            x:Name="ProductStackPanel">
                    <local:CustomTextBlock x:Name="tbCompany"
                                           TextSize="Medium"
                                           Text="{Binding Heading1}" />
                    <local:CustomTextBlock x:Name="tbProduct"
                                           TextSize="Large"
                                           FontWeight="{StaticResource FontWeight.Bold}"
                                           Text="{Binding Heading2}" />
                </StackPanel>
            </Grid>

            <Grid Grid.Row="1"
                  Margin="16,16,16,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                
                <local:CustomTextBox x:Name="txtUserName"
                                     Grid.Row="0"
                                     Text="{Binding UserName, UpdateSourceTrigger=PropertyChanged}"
                                     DefaultValue="Username"
                                     Heading="Username"
                                     Size="Medium"
                                     ValidationType="Login"
                                     MaxWidth="{Binding ActualWidth, ElementName=MainGrid}" />

                <local:CustomTextBox x:Name="txtPassword"
                                     Grid.Row="1"
                                     IsMasked="True"
                                     Text="{Binding Password, UpdateSourceTrigger=PropertyChanged}"
                                     Heading="Password"
                                     DefaultValue="Password"
                                     Size="Medium"
                                     ValidationType="Login"
                                     MaxWidth="{Binding ActualWidth, ElementName=MainGrid}" />

                <local:CustomActionButton Content="LOGIN"
                                          Grid.Row="2"
                                          Command="{Binding LoginCommand}" />

                <Grid Grid.Row="3"
                      Margin="0,20">
                    <Border Background="{StaticResource Grid.Background}"
                            BorderThickness="2"
                            Height="8"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center" />
                    <local:CustomTextBlock Text="OR"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"
                                           FontWeight="{StaticResource FontWeight.Bold}"
                                           Grid.Row="3"
                                           Background="White"
                                           Padding="10,0" />
                </Grid>

                <StackPanel Grid.Row="4"
                            Orientation="Horizontal"
                            Grid.ColumnSpan="2"
                            HorizontalAlignment="Center">
                    <Grid x:Name="grdCardTap">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="2*" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Button x:Name="btnCardTap"
                                Margin="0,0,16,0"
                                Grid.Row="0"
                                CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:AuthenticateUserView}}"
                                Command="{Binding CardTapCommand}">
                            <Button.Style>
                                <Style TargetType="{x:Type Button}">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate>
                                                <Border x:Name="border"
                                                        BorderBrush="{StaticResource Control.BorderBrush}"
                                                        BorderThickness="{StaticResource BorderThickness}"
                                                        CornerRadius="{StaticResource CornerRadius}"
                                                        Background="{StaticResource Control.BackGround}"
                                                        SnapsToDevicePixels="true">
                                                    <Grid HorizontalAlignment="Center"
                                                          VerticalAlignment="Center">
                                                        <Path Data="M0 0H72V72H0z" />
                                                        <Path Fill="{StaticResource Control.BorderBrush.Focused}"
                                                              Data="M61.995 39.707L62 69.86c0 .591-.24 1.126-.627 1.513S60.451 72 59.86 72H41.604c-3.93 0-7.493-1.598-10.074-4.178-2.58-2.58-4.179-6.142-4.179-10.07v-2.098h-9.538c-1.832 0-3.498-.726-4.724-1.907-1.235-1.189-2.022-2.838-2.085-4.668L11 6.811c0-1.878.764-3.58 1.997-4.814C14.231.763 15.935 0 17.813 0h23.359c1.878 0 3.582.763 4.815 1.997 1.234 1.233 1.998 2.936 1.998 4.814v10.925l10.988 13.729c1.872 2.34 2.937 5.253 3.022 8.242zm-4.277.391c0-2.158-.741-4.275-2.09-5.96l-7.643-9.547v14.937l4.756 5.053-3.119 2.935L33.26 30.134c-.38-.403-.897-.635-1.452-.653-.56-.001-1.092.18-1.5.562-.406.41-.63.919-.658 1.435-.028.513.137 1.03.49 1.451l10.33 12.195c.329.388.508.88.508 1.384v4.04c0 2.54.8 4.961 2.193 6.97 1.57 2.266 3.896 4.008 6.686 4.804l-1.506 4.019c-5.227-1.61-9.203-5.694-10.839-10.686h-5.877v2.097c0 2.713 1.09 5.176 2.89 6.974 1.79 1.79 4.28 2.92 7.092 2.993h16.102v-27.62zM36.195 27.015V4.28H17.814c-.698 0-1.33.284-1.788.742-.458.458-.743 1.09-.743 1.788v42.032c0 .698.285 1.33.743 1.788.458.458 1.09.742 1.788.742h18.902c-.013-.273-.02-.549-.02-.825v-3.256l-9.83-11.602c-1.084-1.292-1.579-2.872-1.489-4.441.089-1.537.74-3.069 1.992-4.32 1.225-1.159 2.83-1.786 4.555-1.728 1.613.046 3.122.688 4.272 1.814zm4.283 4.54l3.224 3.425V6.81c0-.674-.267-1.288-.72-1.74-.457-.457-1.098-.747-1.836-.789h-.668v27.274z" />
                                                    </Grid>
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                        </Button>
                        <local:CustomTextBlock Text="TAP YOUR CARD"
                                               Margin="0,0,16,0"
                                               TextAlignment="Center"
                                               FontWeight="Bold"
                                               TextSize="Small"
                                               Grid.Row="1" />
                    </Grid>

                    <Grid x:Name="grdFingerPrint"
                          Visibility="{Binding IsFingerPrintEnabled,Mode=OneWay}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="2*" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Button x:Name="btnFingerPrint"
                                Grid.Row="0"
                                CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:AuthenticateUserView}}"
                                Command="{Binding FingerPrintCommand}"
                                Margin="16,0,0,0">
                            <Button.Style>
                                <Style TargetType="{x:Type Button}">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate>
                                                <Border x:Name="border"
                                                        BorderBrush="{StaticResource Control.BorderBrush}"
                                                        BorderThickness="{StaticResource BorderThickness}"
                                                        CornerRadius="{StaticResource CornerRadius}"
                                                        Background="{StaticResource Control.BackGround}"
                                                        SnapsToDevicePixels="true">
                                                    <Grid HorizontalAlignment="Center"
                                                          VerticalAlignment="Center">
                                                        <Path Data="M0 0H72V72H0z" />
                                                        <Path Fill="{StaticResource Control.BorderBrush.Focused}"
                                                              Data="M36.5 0c11.929 0 26.524 5.322 28.32 30.676.1 1.418-.976 2.647-2.403 2.747-1.446.088-2.667-.968-2.767-2.385C58.417 13.613 50.843 5.143 36.5 5.143 21.026 5.143 13.182 15.525 13.182 36c0 24.363 10.183 30.857 25.909 30.857 1.431 0 2.59 1.151 2.59 2.572 0 1.42-1.159 2.571-2.59 2.571C16.678 72 8 59.2 8 36 8 6.245 23.499 0 36.5 0zm4.282 54.69c3.126 2.87 7.127 4.453 11.263 4.453 1.431 0 2.591 1.151 2.591 2.571 0 1.42-1.16 2.572-2.59 2.572-5.447 0-10.697-2.069-14.783-5.822-1.05-.965-1.114-2.591-.142-3.633.972-1.045 2.61-1.107 3.66-.141zM23.59 38.477c.269 7.357 1.762 12.517 4.436 15.339.982 1.033.931 2.66-.111 3.633-1.042.976-2.685.922-3.661-.11-3.611-3.807-5.522-9.916-5.844-18.673-.052-1.42 1.066-2.612 2.495-2.665 1.494-.063 2.632 1.057 2.684 2.476zm22.453 5.937c3.083 2.865 7.975 4.443 13.775 4.443 1.431 0 2.591 1.151 2.591 2.572 0 1.42-1.16 2.571-2.59 2.571-7.122 0-13.273-2.072-17.318-5.835-1.045-.97-1.097-2.598-.119-3.633.978-1.04 2.616-1.092 3.661-.118zM36.5 20.57c4.286 0 7.773 3.46 7.773 7.715 0 6.247 7.119 10.285 18.136 10.285 1.431 0 2.591 1.152 2.591 2.572 0 1.42-1.16 2.571-2.59 2.571-14.166 0-23.32-6.055-23.32-15.428 0-1.418-1.162-2.572-2.59-2.572s-2.59 1.154-2.59 2.572V36c0 3.485.442 6.695 1.314 9.538.418 1.359-.354 2.795-1.723 3.21-1.372.417-2.818-.36-3.233-1.71-1.022-3.331-1.54-7.044-1.54-11.038v-7.714c0-4.254 3.486-7.715 7.772-7.715zm15.415-1.037c.577 1.3-.016 2.818-1.326 3.39-1.306.575-2.836-.016-3.415-1.315-2.646-5.96-7.002-6.173-10.31-6.18h-.671c-4.134.006-9.615.263-11.793 10.801-.253 1.218-1.331 2.056-2.536 2.056-.172 0-.348-.017-.523-.053-1.401-.286-2.305-1.644-2.017-3.036C22.343 10.584 31.89 10.292 36.24 10.286h.58c3.779.007 11.106.26 15.095 9.248z" />
                                                    </Grid>
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                        </Button>
                        <local:CustomTextBlock Text="USE FINGERPRINT"
                                               Margin="16,0,0,0"
                                               TextAlignment="Center"
                                               TextSize="Small"
                                               FontWeight="Bold"
                                               Grid.Row="1"
                                               Visibility="Visible" />
                    </Grid>
                </StackPanel>

                <Button x:Name="btnKeyboard"
                        Grid.Row="5"
                        Margin="0,0,0,8"
                        VerticalAlignment="Bottom"
                        HorizontalAlignment="Right"
                        Style="{StaticResource KeyboardButtonStyle}"/>
            </Grid>
        </Grid>

        <Button x:Name="btnClose"
                Style="{StaticResource CloseButtonStyle}"/>
    </Grid>
</Window>
