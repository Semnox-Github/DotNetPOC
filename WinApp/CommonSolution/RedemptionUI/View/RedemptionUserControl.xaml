<UserControl x:Class="Semnox.Parafait.RedemptionUI.RedemptionUserControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             xmlns:common="clr-namespace:Semnox.Parafait.CommonUI;assembly=CommonUI"
             xmlns:local="clr-namespace:Semnox.Parafait.RedemptionUI"
             xmlns:triggertrace="clr-namespace:Semnox.Parafait.CommonUI;assembly=CommonUI"
             mc:Ignorable="d">
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Loaded">
            <i:InvokeCommandAction CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                   Command="{Binding LoadedCommand}" />
        </i:EventTrigger>
    </i:Interaction.Triggers>

    <UserControl.Resources>
        <common:CheckButtonTypeConverter x:Key="CheckButtonTypeConverter"></common:CheckButtonTypeConverter>
         <local:AutoShowMenusConverter x:Key="AutoShowMenusConverter" />
        <Style x:Key="PaginationButtonsStyle"
               TargetType="{x:Type common:CustomActionButton}"
               BasedOn="{StaticResource {x:Type common:CustomActionButton}}">
            <Style.Triggers>
                <DataTrigger Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                             Value="2">
                    <Setter Property="Height"
                            Value="48" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="PrevNextActionGridStyle"
               TargetType="{x:Type UniformGrid}">
            <Setter Property="Visibility"
                    Value="Collapsed" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding ShowSearchCloseIcon}"
                             Value="True">
                    <Setter Property="Visibility"
                            Value="Visible" />
                </DataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding AutoShowSearchSection}"
                                   Value="False" />
                        <Condition Binding="{Binding SearchFilterVisbility}"
                                   Value="Collapsed" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Visibility"
                            Value="Visible" />
                </MultiDataTrigger>
                <DataTrigger  Binding="{Binding DataContext.LeftPaneSelectedItem, 
                            RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                              Value="LoadTicket">
                    <Setter Property="Visibility"
                            Value="Collapsed" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="ShowContentAreaButtonStyle"
               TargetType="{x:Type Button}"
               BasedOn="{StaticResource RedemptionShowContentAreaButtonStyle}">
            <Style.Triggers>
                <DataTrigger Value="False">
                    <DataTrigger.Binding >
                        <MultiBinding Converter="{StaticResource AutoShowMenusConverter}">
                            <Binding Path="DataContext.LeftPaneSelectedItem"
                                     RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                            <Binding Path="DataContext.MultiScreenMode"
                                     RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                            <Binding Path="DataContext.AutoShowRedemptionProductMenu"
                                     RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                            <Binding Path="DataContext.AutoShowLoadTicketProductMenu"
                                     RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                        </MultiBinding>
                    </DataTrigger.Binding>
                    <Setter Property="Visibility"
                            Value="Visible" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
        <Style TargetType="{x:Type Border}"
               x:Key="MulitScreenTransactionAreaBorderStyle">
            <Style.Triggers>
                <DataTrigger Binding="{Binding DataContext.MultiScreenMode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="False">
                    <Setter Property="Margin"
                            Value="0,14,0,0" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="User1">
                    <Setter Property="Background"
                            Value="{StaticResource Redemption.MultiUserControl.HeaderTag.User1.ScreenColor}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="User2">
                    <Setter Property="Background"
                            Value="{StaticResource Redemption.MultiUserControl.HeaderTag.User2.ScreenColor}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="User3">
                    <Setter Property="Background"
                            Value="{StaticResource Redemption.MultiUserControl.HeaderTag.User3.ScreenColor}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="User4">
                    <Setter Property="Background"
                            Value="{StaticResource Redemption.MultiUserControl.HeaderTag.User4.ScreenColor}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="User5">
                    <Setter Property="Background"
                            Value="{StaticResource Redemption.MultiUserControl.HeaderTag.User5.ScreenColor}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="User6">
                    <Setter Property="Background"
                            Value="{StaticResource Redemption.MultiUserControl.HeaderTag.User6.ScreenColor}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="User7">
                    <Setter Property="Background"
                            Value="{StaticResource Redemption.MultiUserControl.HeaderTag.User7.ScreenColor}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="User8">
                    <Setter Property="Background"
                            Value="{StaticResource Redemption.MultiUserControl.HeaderTag.User8.ScreenColor}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ApplyColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="False">
                    <Setter Property="Background"
                            Value="{StaticResource Control.ComboBackground}" />
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <Style BasedOn="{StaticResource {x:Type common:CustomScrollViewer}}"
               TargetType="{x:Type common:CustomScrollViewer}"
               x:Key="MultiScreenScrollViewer">
            <Style.Triggers>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding ShowNoCurrencyTextBlock}"
                                   Value="True" />
                        <Condition Binding="{Binding IsLoadTicket}"
                                   Value="True" />
                        <Condition Binding="{Binding DataContext.RedemptionsType, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionUserControl}}"
                                   Value="New" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Visibility"
                            Value="Collapsed" />
                </MultiDataTrigger>
                <DataTrigger Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                             Value="2">
                    <Setter Property="Size"
                            Value="XSmall" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="User1">
                    <Setter Property="Background"
                            Value="{StaticResource Redemption.MultiUserControl.HeaderTag.User1.ScreenColor}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="User2">
                    <Setter Property="Background"
                            Value="{StaticResource Redemption.MultiUserControl.HeaderTag.User2.ScreenColor}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="User3">
                    <Setter Property="Background"
                            Value="{StaticResource Redemption.MultiUserControl.HeaderTag.User3.ScreenColor}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="User4">
                    <Setter Property="Background"
                            Value="{StaticResource Redemption.MultiUserControl.HeaderTag.User4.ScreenColor}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="User5">
                    <Setter Property="Background"
                            Value="{StaticResource Redemption.MultiUserControl.HeaderTag.User5.ScreenColor}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="User6">
                    <Setter Property="Background"
                            Value="{StaticResource Redemption.MultiUserControl.HeaderTag.User6.ScreenColor}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="User7">
                    <Setter Property="Background"
                            Value="{StaticResource Redemption.MultiUserControl.HeaderTag.User7.ScreenColor}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="User8">
                    <Setter Property="Background"
                            Value="{StaticResource Redemption.MultiUserControl.HeaderTag.User8.ScreenColor}" />

                </DataTrigger>
                <DataTrigger Binding="{Binding DataContext.ApplyColorCode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                             Value="False">
                    <Setter Property="Background"
                            Value="{StaticResource Control.BackGround}" />
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <Style BasedOn="{StaticResource {x:Type common:CustomTextBlock}}"
               TargetType="{x:Type common:CustomTextBlock}"
               x:Key="MultiScreenCustomTextBlockStyle">
            <Setter Property="FontWeight"
                    Value="{StaticResource FontWeight.Bold}" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsLoadTicket}"
                             Value="False">
                    <Setter Property="Text"
                            Value="Tap Card" />
                </DataTrigger>
                <DataTrigger Binding="{Binding IsLoadTicket}"
                             Value="True">
                    <Setter Property="Text"
                            Value="Add Currency" />
                </DataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding ShowNoCurrencyTextBlock}"
                                   Value="True" />
                        <Condition Binding="{Binding IsLoadTicket}"
                                   Value="True" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Visibility"
                            Value="Collapsed" />
                </MultiDataTrigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="{x:Type ToggleButton}"
               x:Key="ShowAllToggleButtonStyle">
            <Setter Property="Visibility"
                    Value="Collapsed" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Viewbox>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <common:CustomTextBlock x:Name="tbShowAll"
                                                        Text="Show All"
                                                        FontWeight="{StaticResource FontWeight.Bold}"
                                                        HorizontalAlignment="Center" />
                                <common:CustomCheckBox x:Name="chkShowAll"
                                                       Grid.Row="1"
                                                       HorizontalAlignment="Center"
                                                       Size="XSmall"
                                                       IsChecked="{Binding IsChecked, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=ToggleButton}}" />
                            </Grid>
                        </Viewbox>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <DataTrigger Binding="{Binding RedemptionsType}"
                             Value="Suspended">
                    <Setter Property="Visibility"
                            Value="Visible" />
                </DataTrigger>
            </Style.Triggers>
        </Style>


        <Style TargetType="{x:Type Button}"
               x:Key="SearchButtonStyle">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Border x:Name="border"
                                BorderBrush="{StaticResource Control.BorderBrush}"
                                BorderThickness="0,0,0,3"
                                CornerRadius="{StaticResource CornerRadius}"
                                Background="{StaticResource Control.ComboBackground}"
                                SnapsToDevicePixels="true">
                            <Grid HorizontalAlignment="Center"
                                  VerticalAlignment="Center">
                                <Path Data="M0 0H32V32H0z" />
                                <Path x:Name="SearchOrClosePath"
                                      Fill="{StaticResource Control.BorderBrush.Focused}"
                                      Data="M11.787 0c3.284 0 6.09 1.173 8.4 3.51 2.31 2.338 3.468 5.156 3.468 8.44 0 2.793-.851 5.269-2.55 7.415l-.067.08.2.144 1.36.001.23.095L32 28.857 28.857 32l-9.09-9.174-.095-.228v-1.232l-.25-.215-.157.13c-1.89 1.491-4.035 2.325-6.427 2.5l-.482.027-.488.009c-3.283 0-6.09-1.159-8.4-3.469C1.159 18.038 0 15.232 0 11.95c0-3.283 1.158-6.101 3.467-8.438C5.777 1.173 8.557 0 11.787 0zm.081 4.227c-2.135 0-3.934.75-5.417 2.26-1.485 1.51-2.224 3.325-2.224 5.462 0 2.138.726 3.954 2.177 5.456 1.51 1.459 3.326 2.185 5.464 2.185 2.137 0 3.952-.739 5.463-2.223 1.509-1.484 2.26-3.283 2.26-5.418 0-2.135-.752-3.95-2.262-5.46-1.511-1.51-3.325-2.262-5.46-2.262z"
                                      Stretch="Uniform" />
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <DataTrigger Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                         Value="2">
                                <Setter Property="Padding"
                                        TargetName="border"
                                        Value="8" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                         Value="1">
                                <Setter Property="Padding"
                                        TargetName="border"
                                        Value="16" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding ShowSearchCloseIcon}"
                                         Value="True">
                                <Setter Property="Data"
                                        TargetName="SearchOrClosePath"
                                        Value="M0,0 L1,1 M0,1 L1,0" />
                                <Setter Property="Stroke"
                                        TargetName="SearchOrClosePath"
                                        Value="{StaticResource Control.BorderBrush.Focused}" />
                                <Setter Property="StrokeThickness"
                                        TargetName="SearchOrClosePath"
                                        Value="3" />
                            </DataTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <DataTrigger Binding="{Binding RedemptionsType}"
                             Value="Suspended">
                    <Setter Property="Visibility"
                            Value="Collapsed" />
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="{x:Type Button}"
               x:Key="ShowTransactionAreaButtonStyle">
            <Setter Property="MinWidth"
                    Value="48" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border Background="Transparent">
                            <Grid HorizontalAlignment="Stretch"
                                  VerticalAlignment="Stretch">
                                <Path Data="M19.824 0c.241 0 .471.036.688.108.221.075.425.187.608.334.395.319.61.745.61 1.234 0 .35-.11.672-.341.962l-.126.143-.143.129L4.75 16.105l16.174 13.04.143.131c.286.296.439.66.439 1.063 0 .482-.217.902-.61 1.219-.367.295-.814.442-1.315.442-.347 0-.668-.07-.974-.224l-.181-.103-.16-.115L.582 17.299l-.143-.131C.153 16.872 0 16.508 0 16.105c0-.345.112-.662.343-.95l.125-.14.143-.129L18.56.416l.166-.114c.137-.083.284-.15.442-.198.22-.069.44-.104.655-.104zm10.27 0c.24 0 .471.036.688.108.22.075.424.187.607.334.395.319.611.745.611 1.234 0 .35-.111.672-.342.962l-.125.143-.144.129-16.368 13.195 16.173 13.04.143.131c.287.296.44.66.44 1.063 0 .482-.218.902-.611 1.219-.366.295-.813.442-1.315.442-.346 0-.667-.07-.973-.224l-.182-.103-.159-.115-17.685-14.259-.143-.131c-.287-.296-.44-.66-.44-1.063 0-.345.113-.662.344-.95l.125-.14.142-.129L28.831.416l.165-.114c.137-.083.285-.15.442-.198.221-.069.44-.104.655-.104z"
                                      Fill="{StaticResource Control.BorderBrush.Focused}"
                                      RenderTransformOrigin="0.5,0.5"
                                      HorizontalAlignment="Center"
                                      VerticalAlignment="Center"
                                      Stretch="Uniform">
                                    <Path.RenderTransform>
                                        <RotateTransform Angle="180" />
                                    </Path.RenderTransform>
                                </Path>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <DataTrigger Binding="{Binding MultiScreenMode}"
                             Value="True">
                    <Setter Property="Visibility"
                            Value="Visible" />
                </DataTrigger>
                <DataTrigger Binding="{Binding MultiScreenMode}"
                             Value="False">
                    <Setter Property="Visibility"
                            Value="Collapsed" />
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <Style BasedOn="{StaticResource {x:Type common:CustomActionButton}}"
               TargetType="{x:Type common:CustomActionButton}"
               x:Key="MultiScreenSuspendCompleteActionButtonStyle">
            <Style.Triggers>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding MultiScreenMode}"
                                   Value="True" />
                        <Condition Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                   Value="2" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Height"
                            Value="{StaticResource Redemption.MultiScreen.ActionButton.Width}" />
                    <Setter Property="FontSize"
                            Value="{StaticResource Font.XSmall}" />
                </MultiDataTrigger>
            </Style.Triggers>
        </Style>

        <DataTemplate x:Key="LoadingTicketSingleScreenHeaderTemplate">
            <Border BorderBrush="{StaticResource Control.BorderBrush}"
                    BorderThickness="0,0,0,1">
                <Grid Margin="0,0,0,12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="8*" />
                        <ColumnDefinition Width="2*" />
                    </Grid.ColumnDefinitions>
                    <common:CustomTextBlock x:Name="tbCurrency"
                                            Text="CURRENCY"
                                            Grid.Column="0"
                                            FontWeight="{StaticResource FontWeight.Bold}"
                                            TextSize="Medium"
                                            VerticalAlignment="Center"
                                            HorizontalAlignment="Left"
                                            Margin="8,8,8,0" />
                    <Button x:Name="btnSearch"
                            Grid.Column="1"
                            Margin="8,0,0,0"
                            CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                            Command="{Binding SearchCommand}">
                        <Button.Style>
                            <Style TargetType="{x:Type Button}">
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate>
                                            <Border x:Name="border"
                                                    Padding="16"
                                                    BorderBrush="{StaticResource Control.BorderBrush}"
                                                    BorderThickness="0,0,0,3"
                                                    CornerRadius="{StaticResource CornerRadius}"
                                                    Background="{StaticResource Control.ComboBackground}"
                                                    SnapsToDevicePixels="true">
                                                <Grid HorizontalAlignment="Center"
                                                      VerticalAlignment="Center">
                                                    <Path x:Name="SearchOrClosePath"
                                                          Fill="{StaticResource Control.BorderBrush.Focused}"
                                                          Data="M11.787 0c3.284 0 6.09 1.173 8.4 3.51 2.31 2.338 3.468 5.156 3.468 8.44 0 2.793-.851 5.269-2.55 7.415l-.067.08.2.144 1.36.001.23.095L32 28.857 28.857 32l-9.09-9.174-.095-.228v-1.232l-.25-.215-.157.13c-1.89 1.491-4.035 2.325-6.427 2.5l-.482.027-.488.009c-3.283 0-6.09-1.159-8.4-3.469C1.159 18.038 0 15.232 0 11.95c0-3.283 1.158-6.101 3.467-8.438C5.777 1.173 8.557 0 11.787 0zm.081 4.227c-2.135 0-3.934.75-5.417 2.26-1.485 1.51-2.224 3.325-2.224 5.462 0 2.138.726 3.954 2.177 5.456 1.51 1.459 3.326 2.185 5.464 2.185 2.137 0 3.952-.739 5.463-2.223 1.509-1.484 2.26-3.283 2.26-5.418 0-2.135-.752-3.95-2.262-5.46-1.511-1.51-3.325-2.262-5.46-2.262z"
                                                          Stretch="Uniform" />
                                                </Grid>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <DataTrigger Binding="{Binding ShowSearchCloseIcon}"
                                                             Value="True">
                                                    <Setter Property="Data"
                                                            TargetName="SearchOrClosePath"
                                                            Value="M0,0 L1,1 M0,1 L1,0" />
                                                    <Setter Property="Stroke"
                                                            TargetName="SearchOrClosePath"
                                                            Value="{StaticResource Control.BorderBrush.Focused}" />
                                                    <Setter Property="StrokeThickness"
                                                            TargetName="SearchOrClosePath"
                                                            Value="4" />
                                                </DataTrigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </Button.Style>
                    </Button>
                </Grid>
            </Border>
        </DataTemplate>

        <DataTemplate x:Key="LoadingTicketMultiScreenHeaderTemplate">
            <Border BorderBrush="{StaticResource Control.BorderBrush}"
                    BorderThickness="0,0,0,1">
                <Grid Margin="0,0,0,12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="8*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <common:CustomTextBlock x:Name="tbCurrency"
                                            Text="CURRENCY"
                                            Grid.Column="0"
                                            TextTrimming="CharacterEllipsis"
                                            VerticalAlignment="Center"
                                            FontWeight="{StaticResource FontWeight.Bold}"
                                            HorizontalAlignment="Left">
                        <common:CustomTextBlock.Style>
                            <Style BasedOn="{StaticResource {x:Type common:CustomTextBlock}}"
                                   TargetType="{x:Type common:CustomTextBlock}">
                                <Setter Property="TextSize"
                                        Value="Medium" />
                                <Style.Triggers>
                                    <MultiDataTrigger>
                                        <MultiDataTrigger.Conditions>
                                            <Condition Binding="{Binding DataContext.MultiScreenMode, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionUserControl}}"
                                                       Value="True" />
                                            <Condition Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                                       Value="2" />
                                            <Condition Binding="{Binding Path=DataContext.ColumnCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                                       Value="4" />
                                        </MultiDataTrigger.Conditions>
                                        <Setter Property="TextSize"
                                                Value="Small" />
                                    </MultiDataTrigger>
                                </Style.Triggers>
                            </Style>
                        </common:CustomTextBlock.Style>
                    </common:CustomTextBlock>
                    <Button x:Name="btnSearch"
                            Grid.Column="1"
                            Margin="0,0,8,0"
                            CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                            Command="{Binding SearchCommand}">
                        <Button.Style>
                            <Style TargetType="{x:Type Button}">
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate>
                                            <Border x:Name="border"
                                                    Padding="16,8"
                                                    BorderBrush="{StaticResource Control.BorderBrush}"
                                                    BorderThickness="0,0,0,3"
                                                    CornerRadius="{StaticResource CornerRadius}"
                                                    Background="{StaticResource Control.ComboBackground}"
                                                    SnapsToDevicePixels="true">
                                                <Grid HorizontalAlignment="Center"
                                                      VerticalAlignment="Center">
                                                    <Path Data="M0 0H32V32H0z" />
                                                    <Path x:Name="SearchOrClosePath"
                                                          Fill="{StaticResource Control.BorderBrush.Focused}"
                                                          Data="M11.787 0c3.284 0 6.09 1.173 8.4 3.51 2.31 2.338 3.468 5.156 3.468 8.44 0 2.793-.851 5.269-2.55 7.415l-.067.08.2.144 1.36.001.23.095L32 28.857 28.857 32l-9.09-9.174-.095-.228v-1.232l-.25-.215-.157.13c-1.89 1.491-4.035 2.325-6.427 2.5l-.482.027-.488.009c-3.283 0-6.09-1.159-8.4-3.469C1.159 18.038 0 15.232 0 11.95c0-3.283 1.158-6.101 3.467-8.438C5.777 1.173 8.557 0 11.787 0zm.081 4.227c-2.135 0-3.934.75-5.417 2.26-1.485 1.51-2.224 3.325-2.224 5.462 0 2.138.726 3.954 2.177 5.456 1.51 1.459 3.326 2.185 5.464 2.185 2.137 0 3.952-.739 5.463-2.223 1.509-1.484 2.26-3.283 2.26-5.418 0-2.135-.752-3.95-2.262-5.46-1.511-1.51-3.325-2.262-5.46-2.262z"
                                                          Stretch="Uniform" />
                                                </Grid>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <DataTrigger Binding="{Binding ShowSearchCloseIcon}"
                                                             Value="True">
                                                    <Setter Property="Data"
                                                            TargetName="SearchOrClosePath"
                                                            Value="M0,0 L1,1 M0,1 L1,0" />
                                                    <Setter Property="Stroke"
                                                            TargetName="SearchOrClosePath"
                                                            Value="{StaticResource Control.BorderBrush.Focused}" />
                                                    <Setter Property="StrokeThickness"
                                                            TargetName="SearchOrClosePath"
                                                            Value="3" />
                                                </DataTrigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </Button.Style>
                    </Button>

                    <Button x:Name="btnShowTransactionArea"
                            Grid.Column="2"
                            Margin="8,0,0,0"
                            CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                            Command="{Binding ShowTransactionAreaClickedCommand}"
                            Style="{StaticResource ShowTransactionAreaButtonStyle}" />
                </Grid>
            </Border>
        </DataTemplate>

        <Style BasedOn="{StaticResource {x:Type common:CustomComboBox}}"
               TargetType="{x:Type common:CustomComboBox}"
               x:Key="MultiScreenCustomComboBoxStyle">
            <Setter Property="Size"
                    Value="Small" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                             Value="2">
                    <Setter Property="Size"
                            Value="XSmall" />
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <Style BasedOn="{StaticResource {x:Type common:CustomTextBox}}"
               TargetType="{x:Type common:CustomTextBox}"
               x:Key="MultiScreenCustomTextBoxStyle">
            <Setter Property="Size"
                    Value="Small" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                             Value="2">
                    <Setter Property="Size"
                            Value="XSmall" />
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <Style BasedOn="{StaticResource {x:Type common:CustomTextBoxDatePicker}}"
               TargetType="{x:Type common:CustomTextBoxDatePicker}"
               x:Key="MultiScreenCustomDatePickerStyle">
            <Setter Property="Size"
                    Value="Small" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                             Value="2">
                    <Setter Property="Size"
                            Value="XSmall" />
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <DataTemplate x:Key="CompleteSearchTemplate">
            <Grid Margin="0,0,8,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <common:CustomComboBox x:Name="cmbStatus"
                                       Heading="Status"
                                       Style="{StaticResource MultiScreenCustomComboBoxStyle}"
                                       ItemsSource="{Binding StatusCollection}"
                                       SelectedItem="{Binding SelectedStatus}"
                                       Grid.Row="0"
                                       Margin="0,0,0,12" />
                <UniformGrid Columns="2"
                             Grid.Row="1">
                    <common:CustomTextBox x:Name="tbRedemptionId"
                                          Text="{Binding SearchedReceiptNo}"
                                          DefaultValue="Enter Redemption Id..."
                                          Heading="Redemption Id"
                                          Style="{StaticResource MultiScreenCustomTextBoxStyle}"
                                          Margin="0,0,8,0" />
                    <common:CustomTextBox x:Name="tbOrderNumber"
                                          Heading="Order Number"
                                          Text="{Binding SearchedBalanceTicketFromOrOrderNo}"
                                          Style="{StaticResource MultiScreenCustomTextBoxStyle}"
                                          DefaultValue="Enter Order Number..." />
                </UniformGrid>
                <UniformGrid Grid.Row="2">
                    <UniformGrid.Style>
                        <Style TargetType="{x:Type UniformGrid}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsLoadTicket}"
                                             Value="True">
                                    <Setter Property="Columns"
                                            Value="1" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding IsLoadTicket}"
                                             Value="False">
                                    <Setter Property="Columns"
                                            Value="2" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </UniformGrid.Style>
                    <common:CustomTextBox x:Name="tbCardNumber"
                                          Heading="Card Number"
                                          Text="{Binding SearchedCardNo}"
                                          Style="{StaticResource MultiScreenCustomTextBoxStyle}"
                                          DefaultValue="Enter Card Number..."
                                          Margin="0,0,8,0" />
                    <common:CustomTextBox x:Name="tbProductCodeDescBarCode"
                                          Text="{Binding SearchedBalanceTicketToOrPrdCodeDescBarcode}"
                                          Heading="Product Code/Desc/BarCode"
                                          DefaultValue="Enter Product Code / Desc / Barcode...">
                        <common:CustomTextBox.Style>
                            <Style BasedOn="{StaticResource MultiScreenCustomTextBoxStyle}"
                                   TargetType="{x:Type common:CustomTextBox}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsLoadTicket}"
                                                 Value="True">
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding IsLoadTicket}"
                                                 Value="False">
                                        <Setter Property="Visibility"
                                                Value="Visible" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </common:CustomTextBox.Style>
                    </common:CustomTextBox>
                </UniformGrid>
                <UniformGrid Columns="2"
                             Grid.Row="3">
                    <common:CustomTextBoxDatePicker x:Name="tbFromDate"
                                                    Heading="From"
                                                    Text="{Binding SearchedIssuedDateFrom,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                    Style="{StaticResource MultiScreenCustomDatePickerStyle}"
                                                    DefaultValue="From"
                                                    Margin="0,0,8,0">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="DatePickerLoaded">
                                <i:InvokeCommandAction CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=common:CustomTextBoxDatePicker}}"
                                                       Command="{Binding DatePickerLoadedCommand}" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </common:CustomTextBoxDatePicker>
                    <common:CustomTextBoxDatePicker x:Name="tbToDate"
                                                    Text="{Binding SearchedIssuedDateTo,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                    Style="{StaticResource MultiScreenCustomDatePickerStyle}"
                                                    Heading="To"
                                                    DefaultValue="To">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="DatePickerLoaded">
                                <i:InvokeCommandAction CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=common:CustomTextBoxDatePicker}}"
                                                       Command="{Binding DatePickerLoadedCommand}" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </common:CustomTextBoxDatePicker>
                </UniformGrid>
            </Grid>
        </DataTemplate>

        <DataTemplate x:Key="MultiScreenSearchFilterTemplate">
            <Viewbox Stretch="Fill">
                <StackPanel Margin="0,0,12,0">
                    <common:CustomTextBox x:Name="tbDefaultSearch"
                                          Size="Small"
                                          Text="{Binding SearchedReceiptNo}">
                        <common:CustomTextBox.Style>
                            <Style BasedOn="{StaticResource {x:Type common:CustomTextBox}}"
                                   TargetType="{x:Type common:CustomTextBox}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsLoadTicket}"
                                                 Value="True">
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding IsVoucher}"
                                                 Value="True">
                                        <Setter Property="DefaultValue"
                                                Value="Enter receipt number..." />
                                        <Setter Property="Heading"
                                                Value="Receipt Number" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                 Value="Redemption">
                                        <Setter Property="DefaultValue"
                                                Value="Enter product code or name..." />
                                        <Setter Property="Heading"
                                                Value="Code" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding IsTurnIn}"
                                                 Value="True">
                                        <Setter Property="DefaultValue"
                                                Value="Enter product code or name..." />
                                        <Setter Property="Heading"
                                                Value="Code" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </common:CustomTextBox.Style>
                    </common:CustomTextBox>
                    <common:CustomTextBox x:Name="tbCardNumber"
                                          Size="Small"
                                          Text="{Binding SearchedCardNo}">
                        <common:CustomTextBox.Style>
                            <Style BasedOn="{StaticResource {x:Type common:CustomTextBox}}"
                                   TargetType="{x:Type common:CustomTextBox}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsVoucher}"
                                                 Value="False">
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding IsVoucher}"
                                                 Value="True">
                                        <Setter Property="Visibility"
                                                Value="Visible" />
                                        <Setter Property="DefaultValue"
                                                Value="Enter card number..." />
                                        <Setter Property="Heading"
                                                Value="Card Number" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                 Value="Redemption">
                                        <Setter Property="Visibility"
                                                Value="Visible" />
                                        <Setter Property="DefaultValue"
                                                Value="Enter product description..." />
                                        <Setter Property="Heading"
                                                Value="Description" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding IsTurnIn}"
                                                 Value="True">
                                        <Setter Property="Visibility"
                                                Value="Visible" />
                                        <Setter Property="DefaultValue"
                                                Value="Enter product description..." />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding IsLoadTicket}"
                                                 Value="True">
                                        <Setter Property="Visibility"
                                                Value="Visible" />
                                        <Setter Property="DefaultValue"
                                                Value="Enter currency name..." />
                                        <Setter Property="Heading"
                                                Value="Name" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </common:CustomTextBox.Style>
                    </common:CustomTextBox>
                    <UniformGrid Grid.Row="1"
                                 Columns="2">
                        <UniformGrid.Style>
                            <Style TargetType="{x:Type UniformGrid}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsTurnIn}"
                                                 Value="True">
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </UniformGrid.Style>
                        <common:CustomTextBox x:Name="tbBalanceTicketFrom"
                                              DefaultValue="From"
                                              Text="{Binding SearchedBalanceTicketFromOrOrderNo}"
                                              Size="Small"
                                              Margin="0,0,8,0">
                            <common:CustomTextBox.Style>
                                <Style BasedOn="{StaticResource {x:Type common:CustomTextBox}}"
                                       TargetType="{x:Type common:CustomTextBox}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                     Value="Redemption">
                                            <Setter Property="Heading"
                                                    Value="Price In Tickets" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsVoucher}"
                                                     Value="True">
                                            <Setter Property="Heading"
                                                    Value="Balance Tickets" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsLoadTicket}"
                                                     Value="True">
                                            <Setter Property="Heading"
                                                    Value="Ticket Value" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </common:CustomTextBox.Style>
                        </common:CustomTextBox>
                        <common:CustomTextBox x:Name="tbBalanceTicketTo"
                                              Text="{Binding SearchedBalanceTicketToOrPrdCodeDescBarcode}"
                                              Size="Small"
                                              DefaultValue="To" />
                    </UniformGrid>
                    <UniformGrid Grid.Row="2"
                                 Columns="2">
                        <UniformGrid.Style>
                            <Style TargetType="{x:Type UniformGrid}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                 Value="Redemption">
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding IsLoadTicket}"
                                                 Value="True">
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding IsTurnIn}"
                                                 Value="True">
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </UniformGrid.Style>
                        <common:CustomTextBoxDatePicker x:Name="tbIssuedDateFrom"
                                                        Text="{Binding SearchedIssuedDateFrom,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                        DefaultValue="From"
                                                        Heading="Issue Date From"
                                                        Margin="0,0,8,0">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="DatePickerLoaded">
                                    <i:InvokeCommandAction CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=common:CustomTextBoxDatePicker}}"
                                                           Command="{Binding DatePickerLoadedCommand}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </common:CustomTextBoxDatePicker>
                        <common:CustomTextBoxDatePicker x:Name="tbIssuedDateTo"
                                                        Text="{Binding SearchedIssuedDateTo,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                        Heading="Issue Date To"
                                                        DefaultValue="To">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="DatePickerLoaded">
                                    <i:InvokeCommandAction CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=common:CustomTextBoxDatePicker}}"
                                                           Command="{Binding DatePickerLoadedCommand}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </common:CustomTextBoxDatePicker>
                    </UniformGrid>
                </StackPanel>
            </Viewbox>
        </DataTemplate>

        <DataTemplate x:Key="SearchButtonTemplate">
            <UniformGrid Columns="2"
                         Margin="0,0,0,4">
                <common:CustomActionButton x:Name="btnClear"
                                           Content="CLEAR"
                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                           Command="{Binding SearchActionsCommand}"
                                           Margin="0,0,16,0"
                                           Height="{StaticResource Redemption.MultiScreen.ActionButton.Width}"
                                           ActionStyle="Passive" />
                <common:CustomActionButton x:Name="btnActionSearch"
                                           Content="SEARCH"
                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                           Command="{Binding SearchActionsCommand}"
                                           Height="{StaticResource Redemption.MultiScreen.ActionButton.Width}" />
            </UniformGrid>
        </DataTemplate>

        <DataTemplate x:Key="ZeroGiftSelectedTemplate">
            <Border x:Name="RedemptionActionAreaBorder"
                    CornerRadius="{StaticResource RightSection.CornerRadius}"
                    Style="{StaticResource MulitScreenTransactionAreaBorderStyle}">
                <common:CustomTextBlock x:Name="tbZeroGiftsSelected"
                                        Text="0 Gifts Selected"
                                        Grid.Row="1"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        TextSize="Medium"
                                        FontWeight="{StaticResource FontWeight.Bold}"
                                        Foreground="{StaticResource Button.Positive.Text}" />
            </Border>
        </DataTemplate>

        <DataTemplate x:Key="MultiScreenTransactionActionAreaTemplate">
            <Border x:Name="RedemptionActionAreaBorder"
                    CornerRadius="{StaticResource RightSection.CornerRadius}"
                    Style="{StaticResource MulitScreenTransactionAreaBorderStyle}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="1.1*" />
                        <RowDefinition Height="9*" />
                    </Grid.RowDefinitions>

                    <Border Grid.Row="0"
                            BorderBrush="{StaticResource Control.BorderBrush}"
                            Padding="6,3">
                        <Border.Style>
                            <Style TargetType="{x:Type Border}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=RedemptionActionAreaGrid,Path=Visibility}"
                                                 Value="Visible">
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Border.Style>
                        <StackPanel Grid.Column="0"
                                    HorizontalAlignment="Left"
                                    Orientation="Horizontal">
                            <Viewbox>
                                <Viewbox.Style>
                                    <Style TargetType="{x:Type Viewbox}">
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding Path=DataContext.FooterVM.SideBarContent, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="Hide Sidebar" />
                                                    <Condition Binding="{Binding Path=DataContext.FooterVM.HideSideBarVisibility, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="Visible" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </MultiDataTrigger>
                                            <DataTrigger Binding="{Binding Path=DataContext.ColumnCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                                         Value="1">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Viewbox.Style>
                                <Grid MaxWidth="{StaticResource Redemption.TransactionArea.ScreenUserGrid.MaxWidth}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="8*" />
                                    </Grid.ColumnDefinitions>
                                    <common:CustomTextBlock x:Name="tbScreenNumber"
                                                            Text="{Binding ScreenNumber}"
                                                            TextSize="Small"
                                                            Grid.Column="0"
                                                            FontWeight="{StaticResource FontWeight.Bold}"
                                                            VerticalAlignment="Center"
                                                            Margin="0,0,8,0" />
                                    <common:CustomTextBlock x:Name="tbUserName"
                                                            Text="{Binding UserName}"
                                                            TextSize="Small"
                                                            Grid.Column="1"
                                                            TextTrimming="CharacterEllipsis"
                                                            FontWeight="{StaticResource FontWeight.Bold}"
                                                            VerticalAlignment="Center"
                                                            Margin="0,0,8,0" />
                                </Grid>
                            </Viewbox>
                            <Button x:Name="btnShowContentArea"
                                    Grid.Column="0"
                                    HorizontalAlignment="Left"
                                    CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                    Command="{Binding ShowContentAreaClickedCommand}"
                                    Style="{StaticResource RedemptionShowContentAreaButtonStyle}" />
                        </StackPanel>
                    </Border>

                    <Grid x:Name="RedemptionActionAreaGrid"
                          Grid.Row="0"
                          Grid.RowSpan="2">
                        <Grid.Style>
                            <Style TargetType="{x:Type Grid}">
                                <Style.Triggers>
                                    <MultiDataTrigger>
                                        <MultiDataTrigger.Conditions>
                                            <Condition Binding="{Binding StayInTransactionMode}"
                                                       Value="False" />
                                            <Condition Binding="{Binding GenericTransactionListVM.ItemCollection.Count}"
                                                       Value="0" />
                                        </MultiDataTrigger.Conditions>
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </MultiDataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="8*" />
                            <RowDefinition>
                                <RowDefinition.Style>
                                    <Style TargetType="{x:Type RowDefinition}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding IsLoadTicket}"
                                                         Value="False">
                                                <Setter Property="Height"
                                                        Value="2.9*" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding IsLoadTicket}"
                                                         Value="True">
                                                <Setter Property="Height"
                                                        Value="Auto" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </RowDefinition.Style>
                            </RowDefinition>
                            <RowDefinition Height="5*" />
                        </Grid.RowDefinitions>

                        <common:GenericTransactionListUserControl DataContext="{Binding GenericTransactionListVM}"
                                                                  Grid.Row="0">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="SearchClicked">
                                    <i:InvokeCommandAction Command="{Binding Path=DataContext.ShowContentAreaClickedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                </i:EventTrigger>
                                <i:EventTrigger EventName="ResetClicked">
                                    <i:InvokeCommandAction Command="{Binding Path=DataContext.ResetCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                </i:EventTrigger>
                                <i:EventTrigger EventName="DeleteClicked">
                                    <i:InvokeCommandAction Command="{Binding Path=DataContext.DeleteCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                </i:EventTrigger>
                                <i:EventTrigger EventName="ItemClicked">
                                    <i:InvokeCommandAction Command="{Binding Path=DataContext.TransactionItemClickedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </common:GenericTransactionListUserControl>

                        <Grid Grid.Row="1"
                              Grid.RowSpan="2">
                            <Grid.Style>
                                <Style TargetType="{x:Type Grid}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsTurnIn}"
                                                     Value="True">
                                            <Setter Property="Visibility"
                                                    Value="Visible" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsTurnIn}"
                                                     Value="False">
                                            <Setter Property="Visibility"
                                                    Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1.8*" />
                                <RowDefinition Height="1*" />
                                <RowDefinition Height="48" />
                            </Grid.RowDefinitions>
                            <Border Grid.Row="0"
                                    BorderBrush="{StaticResource Control.BorderBrush}"
                                    BorderThickness="0,1,0,0"
                                    Padding="4">
                                <UniformGrid Columns="1">
                                    <!--<common:CustomComboBox x:Name="cmbTurnInLocation"
                                                           ItemsSource="{Binding TurnInLocations}"
                                                           SelectedItem="{Binding SelectedTurnInLocation}"
                                                           DisplayMemberPath="Name"
                                                           Heading="TURN-IN LOC."
                                                           Size="XSmall" />-->
                                    <common:CustomComboBox x:Name="cmbTargetLocation"
                                                           ItemsSource="{Binding TargetLocations}"
                                                           SelectedItem="{Binding SelectedTargetLocation}"
                                                           DisplayMemberPath="Name"
                                                           Heading="TARGET LOC."
                                                           Size="XSmall"
                                                           Margin="4,0,0,0" />
                                </UniformGrid>
                            </Border>
                            <Border Grid.Row="1"
                                    BorderBrush="{StaticResource Control.BorderBrush}"
                                    BorderThickness="0,1"
                                    Padding="8,4">
                                <UniformGrid Columns="2">
                                    <Border BorderThickness="0,0,0,2"
                                            Background="{StaticResource Control.BackGround}"
                                            Padding="8,2"
                                            CornerRadius="{StaticResource CornerRadius}"
                                            BorderBrush="{StaticResource Control.BorderBrush}">
                                        <UniformGrid Columns="2">
                                            <common:CustomTextBlock x:Name="tbTurnInTotalTicket"
                                                                    TextTrimming="CharacterEllipsis"
                                                                    Text="TOTAL TKTS"
                                                                    TextSize="XSmall" />
                                            <common:CustomTextBlock x:Name="tbTurnInTotalTicketValue"
                                                                    Text="{Binding LoadTotatlTicketText}"
                                                                    FontWeight="{StaticResource FontWeight.Bold}"
                                                                    TextTrimming="CharacterEllipsis"
                                                                    TextSize="XSmall" />
                                        </UniformGrid>
                                    </Border>
                                    <Border BorderThickness="0,0,0,2"
                                            Background="{StaticResource Control.BackGround}"
                                            Padding="8,2"
                                            Margin="4,0,0,0"
                                            CornerRadius="{StaticResource CornerRadius}"
                                            BorderBrush="{StaticResource Control.BorderBrush}">
                                        <UniformGrid Columns="2">
                                            <common:CustomTextBlock x:Name="tbCardHeading"
                                                                    Text="CARD"
                                                                    TextTrimming="CharacterEllipsis"
                                                                    TextSize="XSmall" />
                                            <common:CustomTextBlock x:Name="tbCardValue"
                                                                    FontWeight="{StaticResource FontWeight.Bold}"
                                                                    Text="{Binding DataContext.TurnInCardInfoText,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                    TextTrimming="CharacterEllipsis"
                                                                    TextSize="XSmall" />
                                        </UniformGrid>
                                    </Border>
                                </UniformGrid>
                            </Border>
                            <UniformGrid Grid.Row="2"
                                         Columns="3">
                                <common:CustomActionButton x:Name="btnTurnInScan"
                                                           Content="SCAN"
                                                           FontSize="{StaticResource FontSize.Small}"
                                                           Margin="{StaticResource Redemption.ActionArea.Margin}"
                                                           Style="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Command="{Binding TransactionActionsCommand}" />
                                <common:CustomActionButton x:Name="btnTurnInPrint"
                                                           Content="PRINT"
                                                           FontSize="{StaticResource FontSize.Small}"
                                                           Margin="{StaticResource Redemption.ActionArea.Margin}"
                                                           Style="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Command="{Binding TransactionActionsCommand}" />
                                <common:CustomActionButton x:Name="btnTurnInComplete"
                                                           Content="COMPLETE"
                                                           Style="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                                           FontSize="{StaticResource FontSize.Small}"
                                                           Margin="{StaticResource Redemption.ActionArea.Margin}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Command="{Binding TransactionActionsCommand}" />
                            </UniformGrid>
                        </Grid>
                        <Border BorderBrush="{StaticResource Control.BorderBrush}"
                                BorderThickness="0,1,0,0"
                                Grid.Row="1"
                                VerticalAlignment="Bottom">
                            <Border.Style>
                                <Style TargetType="{x:Type Border}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsTurnIn}"
                                                     Value="True">
                                            <Setter Property="Visibility"
                                                    Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                            <Grid>
                                <Viewbox Stretch="Uniform"
                                         HorizontalAlignment="Left"
                                         Margin="0,8">
                                    <Viewbox.Style>
                                        <Style TargetType="{x:Type Viewbox}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsLoadTicket}"
                                                             Value="True">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding DataContext.IsLowerResoultion, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                                             Value="True">
                                                    <Setter Property="Visibility"
                                                            Value="Visible" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Viewbox.Style>
                                    <common:DisplayTagsUserControl DataContext="{Binding RightSectionDisplayTagsVM}">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ItemClicked">
                                                <i:InvokeCommandAction Command="{Binding Path=DataContext.TotalTicketClickedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </common:DisplayTagsUserControl>
                                </Viewbox>
                                <Grid Margin="12,4">
                                    <Grid.Style>
                                        <Style TargetType="{x:Type Grid}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsLoadTicket}"
                                                             Value="False">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <common:CustomTextBlock x:Name="tbTotalTicket"
                                                            Text="Total Tickets"
                                                            FontWeight="{StaticResource FontWeight.Bold}"
                                                            HorizontalAlignment="Left" />
                                    <common:CustomTextBlock x:Name="tbTotalTicketValue"
                                                            Text="{Binding LoadTotatlTicketText}"
                                                            FontWeight="{StaticResource FontWeight.Bold}"
                                                            HorizontalAlignment="Right" />
                                </Grid>
                            </Grid>
                        </Border>
                        <Border x:Name="ActionButtonBorder"
                                BorderBrush="{StaticResource Control.BorderBrush}"
                                BorderThickness="0,1,0,0"
                                Grid.Row="2"
                                Padding="8">
                            <Border.Style>
                                <Style TargetType="{x:Type Border}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsTurnIn}"
                                                     Value="True">
                                            <Setter Property="Visibility"
                                                    Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                            <UniformGrid>
                                <UniformGrid.Style>
                                    <Style TargetType="{x:Type UniformGrid}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding IsLoadTicket}"
                                                         Value="False">
                                                <Setter Property="Rows"
                                                        Value="2" />
                                                <Setter Property="Columns"
                                                        Value="3" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding IsLoadTicket}"
                                                         Value="True">
                                                <Setter Property="Rows"
                                                        Value="2" />
                                                <Setter Property="Columns"
                                                        Value="2" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </UniformGrid.Style>
                                <common:CustomActionButton x:Name="btnScan"
                                                           Margin="{StaticResource Redemption.MultiScreenMode.ActionArea.Margin}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Content="SCAN"
                                                           Command="{Binding TransactionActionsCommand}">
                                    <common:CustomActionButton.Style>
                                        <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                               TargetType="{x:Type common:CustomActionButton}">
                                            <Style.Triggers>                                              
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                   Value="Redemption" />
                                                        <Condition Binding="{Binding DataContext.EnableEnterTicketNumberManually,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                                                   Value="True" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Content"
                                                            Value="SCAN/ENTER" />
                                                </MultiDataTrigger>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                   Value="LoadTicket" />
                                                        <Condition Binding="{Binding DataContext.EnableEnterTicketNumberManually,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                                                   Value="True" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Content"
                                                            Value="SCAN/ENTER"/>
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </common:CustomActionButton.Style>
                                </common:CustomActionButton>
                                <common:CustomActionButton x:Name="btnAddTicket"
                                                           Content="ADD TKT"
                                                           Margin="{StaticResource Redemption.MultiScreenMode.ActionArea.Margin}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Command="{Binding TransactionActionsCommand}">
                                    <common:CustomActionButton.Style>
                                        <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                               TargetType="{x:Type common:CustomActionButton}">
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding DataContext.EnableManualTicket, 
                                                            RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                   Value="False" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="IsEnabled"
                                                            Value="False" />
                                                    <Setter Property="Content"
                                                            Value="ADD TKT" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </common:CustomActionButton.Style>
                                </common:CustomActionButton>
                                <common:CustomActionButton x:Name="btnLoadTicket"
                                                           Margin="{StaticResource Redemption.MultiScreenMode.ActionArea.Margin}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Content="LOAD TO CARD"
                                                           Command="{Binding TransactionActionsCommand}">
                                    <common:CustomActionButton.Style>
                                        <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                               TargetType="{x:Type common:CustomActionButton}">
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding DataContext.EnableLoadToCard, 
                                                            RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                   Value="False" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="IsEnabled"
                                                            Value="False" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </common:CustomActionButton.Style>
                                </common:CustomActionButton>
                                <common:CustomActionButton x:Name="btnSuspend"
                                                           Content="SUSPEND"
                                                           Margin="{StaticResource Redemption.MultiScreenMode.ActionArea.Margin}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Command="{Binding TransactionActionsCommand}">
                                    <common:CustomActionButton.Style>
                                        <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                               TargetType="{x:Type common:CustomActionButton}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsLoadTicket}"
                                                             Value="True">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding DataContext.EnableSuspend,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                             Value="False">
                                                    <Setter Property="IsEnabled"
                                                            Value="False" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </common:CustomActionButton.Style>
                                </common:CustomActionButton>
                                <common:CustomActionButton x:Name="btnPrint"
                                                           Content="PRINT"
                                                           Margin="{StaticResource Redemption.MultiScreenMode.ActionArea.Margin}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Command="{Binding TransactionActionsCommand}">
                                    <common:CustomActionButton.Style>
                                        <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                               TargetType="{x:Type common:CustomActionButton}">
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding IsLoadTicket}"
                                                                   Value="True" />
                                                        <Condition Binding="{Binding DataContext.EnableConsolidatePrint, 
                                                            RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                   Value="False" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="IsEnabled"
                                                            Value="False" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </common:CustomActionButton.Style>
                                </common:CustomActionButton>
                                <common:CustomActionButton x:Name="btnComplete"
                                                           Content="COMPLETE"
                                                           Margin="{StaticResource Redemption.MultiScreenMode.ActionArea.Margin}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Command="{Binding TransactionActionsCommand}">
                                    <common:CustomActionButton.Style>
                                        <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                               TargetType="{x:Type common:CustomActionButton}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsLoadTicket}"
                                                             Value="True">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </common:CustomActionButton.Style>
                                </common:CustomActionButton>
                            </UniformGrid>
                        </Border>
                    </Grid>

                    <Grid Grid.Row="1">
                        <Grid.Style>
                            <Style TargetType="{x:Type Grid}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Visibility, ElementName=RedemptionActionAreaGrid}"
                                                 Value="Visible">
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="9*" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <StackPanel Orientation="Vertical"
                                    VerticalAlignment="Center"
                                    HorizontalAlignment="Center">
                            <StackPanel Orientation="Horizontal"
                                        HorizontalAlignment="Center">
                                <common:CustomTextBlock HorizontalAlignment="Center"
                                                        Style="{StaticResource MultiScreenCustomTextBlockStyle}"
                                                        Margin="0,0,8,16" />
                                <common:CustomTextBlock HorizontalAlignment="Center"
                                                        Text="OR"
                                                        FontWeight="{StaticResource FontWeight.Bold}"
                                                        Margin="0,0,0,16">
                                    <common:CustomTextBlock.Style>
                                        <Style BasedOn="{StaticResource {x:Type common:CustomTextBlock}}"
                                               TargetType="{x:Type common:CustomTextBlock}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Path=DataContext.AllowRedemptionsWithoutCard, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                                             Value="False">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding ShowNoCurrencyTextBlock}"
                                                                   Value="True" />
                                                        <Condition Binding="{Binding IsLoadTicket}"
                                                                   Value="True" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </common:CustomTextBlock.Style>
                                </common:CustomTextBlock>
                            </StackPanel>
                            <common:CustomActionButton x:Name="btnScanTicket"
                                                       Command="{Binding ScanEnterCommand}"
                                                       CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                       Padding="32,0"
                                                       Margin="0,0,0,16">
                                <common:CustomActionButton.Style>
                                    <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                           TargetType="{x:Type common:CustomActionButton}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Path=DataContext.AllowRedemptionsWithoutCard, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                                         Value="False">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding IsLoadTicket}"
                                                         Value="True">
                                                <Setter Property="Content"
                                                        Value="SCAN TICKET" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                           Value="Redemption" >
                                                <Setter Property="Content"
                                                        Value="SCAN TKT/GIFT" />
                                            </DataTrigger>                                            
                                            <DataTrigger Binding="{Binding IsTurnIn}"
                                                         Value="True">
                                                <Setter Property="Content"
                                                        Value="SCAN GIFT" />
                                            </DataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="LoadTicket" />
                                                    <Condition Binding="{Binding DataContext.EnableEnterTicketNumberManually,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                                               Value="False" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Content"
                                                        Value="SCAN TICKET" />
                                            </MultiDataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="LoadTicket" />
                                                    <Condition Binding="{Binding DataContext.EnableEnterTicketNumberManually,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                                               Value="True" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Content"
                                                        Value="SCAN/ENTER TKT" />
                                            </MultiDataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="Redemption" />
                                                    <Condition Binding="{Binding DataContext.EnableEnterTicketNumberManually,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                                               Value="True" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Content"
                                                        Value="SCAN/ENTER" />
                                            </MultiDataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="Redemption" />
                                                    <Condition Binding="{Binding DataContext.EnableEnterTicketNumberManually,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                                               Value="False" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Content"
                                                        Value="SCAN TKT/GIFT" />
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </common:CustomActionButton.Style>
                            </common:CustomActionButton>
                            <common:CustomActionButton x:Name="btnaddtkt"
                                                       Command="{Binding ScanEnterCommand}"
                                                       CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                       Content="ADD TKT"
                                                       Padding="32,0"
                                                       Margin="0,0,0,16">
                                <common:CustomActionButton.Style>
                                    <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                           TargetType="{x:Type common:CustomActionButton}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Path=DataContext.AllowRedemptionsWithoutCard, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                                         Value="False">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding IsTurnIn}"
                                                         Value="True">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="LoadTicket" />
                                                    <Condition Binding="{Binding DataContext.EnableManualTicket,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="False" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </MultiDataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="Redemption" />
                                                    <Condition Binding="{Binding DataContext.EnableManualTicket,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="False" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </MultiDataTrigger>                                            
                                        </Style.Triggers>
                                    </Style>
                                </common:CustomActionButton.Style>
                            </common:CustomActionButton>
                        </StackPanel>
                        <Border BorderBrush="{StaticResource Control.BorderBrush}"
                                BorderThickness="0,1,0,0"
                                Grid.Row="1"
                                HorizontalAlignment="Left">
                            <Border.Style>
                                <Style TargetType="{x:Type Border}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsLoadTicket}"
                                                     Value="True">
                                            <Setter Property="Visibility"
                                                    Value="Collapsed" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsTurnIn}"
                                                     Value="True">
                                            <Setter Property="Visibility"
                                                    Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                            <Viewbox Margin="0,8">
                                <common:DisplayTagsUserControl DataContext="{Binding RightSectionDisplayTagsVM}">
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="ItemClicked">
                                            <i:InvokeCommandAction Command="{Binding Path=DataContext.TotalTicketClickedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                </common:DisplayTagsUserControl>
                            </Viewbox>
                        </Border>
                    </Grid>
                </Grid>
            </Border>
        </DataTemplate>

        <DataTemplate x:Key="SingleScreenToggleButtonTemplate">
            <Border BorderBrush="{StaticResource Control.BorderBrush}"
                    BorderThickness="0,0,0,1">
                <Border.Style>
                    <Style TargetType="{x:Type Border}">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding DataContext.ShowHeader,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                         Value="False">
                                <Setter Property="Visibility"
                                        Value="Collapsed" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding DataContext.MultiScreenMode,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                         Value="False">
                                <Setter Property="Padding"
                                        Value="0,0,0,16" />
                                <Setter Property="Margin"
                                        Value="0,14,0,16" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding DataContext.MultiScreenMode,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                         Value="True">
                                <Setter Property="Padding"
                                        Value="0,0,0,16" />
                                <Setter Property="Margin"
                                        Value="0,14,0,16" />
                            </DataTrigger>
                            <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                    <Condition Binding="{Binding DataContext.MultiScreenMode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                               Value="True" />
                                    <Condition Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                               Value="2" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="Padding"
                                        Value="0,0,0,8" />
                                <Setter Property="Margin"
                                        Value="0,6,0,8" />
                            </MultiDataTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="8*" />
                        <ColumnDefinition Width="2*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <common:GenericToggleButtonsUserControl x:Name="GenericToggleButtonsUserControl"
                                                            DataContext="{Binding GenericToggleButtonsVM}"
                                                            Grid.Column="0">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="ToggleChecked">
                                <i:InvokeCommandAction CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                                       Command="{Binding DataContext.ToggleCheckedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                            </i:EventTrigger>
                            <i:EventTrigger EventName="ToggleUnchecked">
                                <i:InvokeCommandAction CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                                       Command="{Binding DataContext.ToggleUncheckedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </common:GenericToggleButtonsUserControl>
                    <Button x:Name="btnSearch"
                            Grid.Column="1"
                            Margin="8,0,0,0"
                            CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                            Command="{Binding SearchCommand}"
                            Style="{StaticResource SearchButtonStyle}" />
                    <ToggleButton x:Name="tbtnShowAll"
                                  Grid.Column="1"
                                  IsChecked="{Binding ShowAll}"
                                  Style="{StaticResource ShowAllToggleButtonStyle}"
                                  Margin="8,0,0,0"
                                  Height="64">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Click">
                                <i:InvokeCommandAction CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=ToggleButton}}"
                                                       Command="{Binding ShowAllClickedCommand}" />
                            </i:EventTrigger>

                        </i:Interaction.Triggers>
                    </ToggleButton>
                    <Button Grid.Column="2"
                            Margin="8"
                            CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                            Command="{Binding ShowTransactionAreaClickedCommand}"
                            Style="{StaticResource ShowTransactionAreaButtonStyle}" />
                </Grid>
            </Border>
        </DataTemplate>

        <DataTemplate x:Key="MultiScreenToggleButtonTemplate">
            <Border BorderBrush="{StaticResource Control.BorderBrush}"
                    BorderThickness="0,0,0,1">
                <Border.Style>
                    <Style TargetType="{x:Type Border}">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding MultiScreenMode}"
                                         Value="False">
                                <Setter Property="Padding"
                                        Value="0,0,0,16" />
                                <Setter Property="Margin"
                                        Value="0,14,0,16" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding MultiScreenMode}"
                                         Value="True">
                                <Setter Property="Padding"
                                        Value="0,0,0,16" />
                                <Setter Property="Margin"
                                        Value="0,14,0,16" />
                            </DataTrigger>
                            <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                    <Condition Binding="{Binding DataContext.MultiScreenMode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                               Value="True" />
                                    <Condition Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                               Value="2" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="Padding"
                                        Value="0,0,0,8" />
                                <Setter Property="Margin"
                                        Value="0,6,0,8" />
                            </MultiDataTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
                <Viewbox HorizontalAlignment="Left">
                    <Viewbox.Style>
                        <Style TargetType="{x:Type Viewbox}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding DataContext.MultiScreenMode,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                             Value="True">
                                    <Setter Property="Stretch"
                                            Value="Uniform" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding DataContext.RowCount,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                             Value="2">
                                    <Setter Property="Stretch"
                                            Value="Uniform" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding DataContext.ColumnCount,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                             Value="3">
                                    <Setter Property="Stretch"
                                            Value="Fill" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding DataContext.ColumnCount,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                             Value="4">
                                    <Setter Property="Stretch"
                                            Value="Fill" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Viewbox.Style>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="8*" />
                            <ColumnDefinition Width="2*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <common:GenericToggleButtonsUserControl x:Name="GenericToggleButtonsUserControl"
                                                                DataContext="{Binding GenericToggleButtonsVM}"
                                                                Grid.Column="0">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="ToggleChecked">
                                    <i:InvokeCommandAction CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                                           Command="{Binding DataContext.ToggleCheckedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                </i:EventTrigger>
                                <i:EventTrigger EventName="ToggleUnchecked">
                                    <i:InvokeCommandAction CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                                           Command="{Binding DataContext.ToggleUncheckedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </common:GenericToggleButtonsUserControl>
                        <Button x:Name="btnSearch"
                                Grid.Column="1"
                                Margin="8,0,0,0"
                                CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                Command="{Binding SearchCommand}"
                                Style="{StaticResource SearchButtonStyle}" />
                        <ToggleButton x:Name="tbtnShowAll"
                                      Grid.Column="1"
                                      IsChecked="{Binding ShowAll}"
                                      Style="{StaticResource ShowAllToggleButtonStyle}"
                                      Margin="8,0,0,0"
                                      Height="64">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Click">
                                    <i:InvokeCommandAction CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=ToggleButton}}"
                                                           Command="{Binding ShowAllClickedCommand}" />
                                </i:EventTrigger>

                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <Button x:Name="btnShowTransactionArea"
                                Grid.Column="2"
                                Margin="8,0,0,0"
                                CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                Command="{Binding ShowTransactionAreaClickedCommand}"
                                Style="{StaticResource ShowTransactionAreaButtonStyle}" />

                    </Grid>
                </Viewbox>


            </Border>
        </DataTemplate>

        <DataTemplate x:Key="SuspendedCompleted0ItemsTemplate">
            <Border x:Name="RedemptionActionAreaBorder"
                    CornerRadius="{StaticResource RightSection.CornerRadius}"
                    Style="{StaticResource MulitScreenTransactionAreaBorderStyle}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="1*" />
                        <RowDefinition Height="9*" />
                    </Grid.RowDefinitions>
                    <Border Grid.Row="0"
                            BorderBrush="{StaticResource Control.BorderBrush}"
                            Padding="6,3">
                        <Border.Style>
                            <Style TargetType="{x:Type Border}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Visibility, ElementName=RedemptionActionAreaGrid}"
                                                 Value="Visible">
                                        <Setter Property="BorderThickness"
                                                Value="0,0,0,1" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Border.Style>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="8*" />
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0"
                                        HorizontalAlignment="Left"
                                        Orientation="Horizontal">
                                <Grid MaxWidth="{StaticResource Redemption.TransactionArea.ScreenUserGrid.MaxWidth}">
                                    <Grid.Style>
                                        <Style TargetType="{x:Type Grid}">
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding Path=DataContext.FooterVM.SideBarContent, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                   Value="Hide Sidebar" />
                                                        <Condition Binding="{Binding Path=DataContext.FooterVM.HideSideBarVisibility, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                   Value="Visible" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </MultiDataTrigger>
                                                <DataTrigger Binding="{Binding Path=DataContext.ColumnCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                                             Value="1">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                                 <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Value="False">
                                                            <Condition.Binding>
                                                                <MultiBinding Converter="{StaticResource AutoShowMenusConverter}">
                                                                    <Binding Path="DataContext.LeftPaneSelectedItem"
                                                                             RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                                                                    <Binding Path="DataContext.MultiScreenMode"
                                                                             RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                                                                    <Binding Path="DataContext.AutoShowRedemptionProductMenu"
                                                                             RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                                                                    <Binding Path="DataContext.AutoShowLoadTicketProductMenu"
                                                                             RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                                                                </MultiBinding>
                                                            </Condition.Binding>
                                                        </Condition>
                                                        <Condition Binding="{Binding StayInTransactionMode}"
                                                                   Value="False" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Visibility"
                                                            Value="Visible" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="8*" />
                                    </Grid.ColumnDefinitions>
                                    <common:CustomTextBlock x:Name="tbScreenNumber"
                                                            Text="{Binding ScreenNumber}"
                                                            TextSize="Small"
                                                            Grid.Column="0"
                                                            FontWeight="{StaticResource FontWeight.Bold}"
                                                            VerticalAlignment="Center"
                                                            Margin="0,0,8,0" />
                                    <common:CustomTextBlock x:Name="tbUserName"
                                                            Text="{Binding UserName}"
                                                            TextSize="Small"
                                                            Grid.Column="1"
                                                            TextTrimming="CharacterEllipsis"
                                                            FontWeight="{StaticResource FontWeight.Bold}"
                                                            VerticalAlignment="Center"
                                                            Margin="0,0,8,0" />
                                </Grid>
                                <Button x:Name="btnShowContentArea"
                                        Grid.Column="0"
                                        HorizontalAlignment="Left"
                                        CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                        Command="{Binding ShowContentAreaClickedCommand}"
                                        Style="{StaticResource ShowContentAreaButtonStyle}" />
                            </StackPanel>
                        </Grid>
                    </Border>
                    <common:CustomTextBlock x:Name="tbZeroItemSelected"
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            TextSize="Medium"
                                            Text="0 Items Selected"
                                            FontWeight="{StaticResource FontWeight.Bold}"
                                            Foreground="{StaticResource Button.Positive.Text}" />
                </Grid>
            </Border>
        </DataTemplate>

        <DataTemplate x:Key="FlagRightSection">
            <Border x:Name="RedemptionActionAreaBorder"
                    CornerRadius="{StaticResource RightSection.CornerRadius}"
                    Style="{StaticResource MulitScreenTransactionAreaBorderStyle}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <common:GenericRightSectionContentUserControl DataContext="{Binding GenericRightSectionContentVM}"
                                                                  Grid.Row="0">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="SearchButtonClicked">
                                <i:InvokeCommandAction CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                                       Command="{Binding DataContext.ShowContentAreaClickedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                            </i:EventTrigger>
                            <i:EventTrigger EventName="PreviousNavigationClicked">
                                <i:InvokeCommandAction Command="{Binding DataContext.PreviousNavigationCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                            </i:EventTrigger>
                            <i:EventTrigger EventName="NextNavigationClicked">
                                <i:InvokeCommandAction Command="{Binding DataContext.NextNavigationCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </common:GenericRightSectionContentUserControl>

                    <Border BorderThickness="0,1,0,0"
                            BorderBrush="{StaticResource Control.BorderBrush}"
                            Grid.Row="2"
                            Padding="8,4"
                            VerticalAlignment="Bottom">
                        <Grid>
                            <UniformGrid Columns="2">
                                <UniformGrid.Style>
                                    <Style TargetType="{x:Type UniformGrid}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding RedemptionsType}"
                                                         Value="Flagged">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RedemptionsType}"
                                                         Value="Voucher">
                                                <Setter Property="Visibility"
                                                        Value="Visible" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </UniformGrid.Style>
                                <common:CustomActionButton x:Name="btnReprint"
                                                           Margin="0,0,4,0"
                                                           Grid.Column="0"
                                                           Content="REPRINT"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Command="{Binding SuspendCompleteActionsCommand}">
                                    <common:CustomActionButton.Style>
                                        <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                               TargetType="{x:Type common:CustomActionButton}">
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding IsVoucher}"
                                                                   Value="True" />
                                                        <Condition Binding="{Binding DataContext.EnableRePrint, 
                                                            RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                   Value="False" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="IsEnabled"
                                                            Value="False" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </common:CustomActionButton.Style>
                                </common:CustomActionButton>
                                <common:CustomActionButton x:Name="btnComplete"
                                                           Content="FLAG"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Command="{Binding SuspendCompleteActionsCommand}">
                                    <common:CustomActionButton.Style>
                                        <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                               TargetType="{x:Type common:CustomActionButton}">
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding IsVoucher}"
                                                                   Value="True" />
                                                        <Condition Binding="{Binding DataContext.EnableUnFlagVoucher, 
                                                            RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                   Value="False" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="IsEnabled"
                                                            Value="False" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </common:CustomActionButton.Style>
                                </common:CustomActionButton>
                            </UniformGrid>
                            <common:CustomActionButton x:Name="btnUnFlag"
                                                       Content="UN-FLAG VOUCHER"
                                                       Grid.ColumnSpan="2"
                                                       Grid.Column="0"
                                                       CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                       Command="{Binding SuspendCompleteActionsCommand}">
                                <common:CustomActionButton.Style>
                                    <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                           TargetType="{x:Type common:CustomActionButton}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding RedemptionsType}"
                                                         Value="Flagged">
                                                <Setter Property="Visibility"
                                                        Value="Visible" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RedemptionsType}"
                                                         Value="Voucher">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </common:CustomActionButton.Style>
                            </common:CustomActionButton>
                        </Grid>
                    </Border>
                </Grid>
            </Border>
        </DataTemplate>

        <DataTemplate x:Key="SuspendedCompletedRightSection">
            <Border x:Name="RedemptionActionAreaBorder"
                    CornerRadius="{StaticResource RightSection.CornerRadius}"
                    Style="{StaticResource MulitScreenTransactionAreaBorderStyle}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="7*" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <common:GenericRightSectionContentUserControl DataContext="{Binding GenericRightSectionContentVM}"
                                                                  Grid.Row="0">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="SearchButtonClicked">
                                <i:InvokeCommandAction CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                                       Command="{Binding DataContext.ShowContentAreaClickedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                            </i:EventTrigger>
                            <i:EventTrigger EventName="PreviousNavigationClicked">
                                <i:InvokeCommandAction Command="{Binding DataContext.PreviousNavigationCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                            </i:EventTrigger>
                            <i:EventTrigger EventName="NextNavigationClicked">
                                <i:InvokeCommandAction Command="{Binding DataContext.NextNavigationCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </common:GenericRightSectionContentUserControl>
                    <Border BorderBrush="{StaticResource Control.BorderBrush}"
                            Background="{StaticResource Control.BackGround}"
                            CornerRadius="{StaticResource CornerRadius}"
                            Grid.Row="1"
                            Margin="8,0,16,6"
                            Padding="16,6"
                            VerticalAlignment="Bottom">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1*" />
                                <RowDefinition Height="1*" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="8*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="8*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <common:CustomTextBlock x:Name="tbETicket"
                                                    Text="E - Tickets"
                                                    TextSize="XSmall"
                                                    Grid.Row="0"
                                                    Grid.Column="0" />
                            <common:CustomTextBlock x:Name="tbETicketValue"
                                                    Text="{Binding Path=DataContext.SelectedRedemptionDTO.ETickets, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl},TargetNullValue=0}"
                                                    TextSize="XSmall"
                                                    FontWeight="{StaticResource FontWeight.Bold}"
                                                    Grid.Row="0"
                                                    Grid.Column="1"
                                                    Margin="0,0,8,0" />
                            <common:CustomTextBlock x:Name="tbManualTicket"
                                                    Text="Manual Tickets"
                                                    TextSize="XSmall"
                                                    Grid.Row="0"
                                                    Grid.Column="2" />
                            <common:CustomTextBlock x:Name="tbManualTicketValue"
                                                    Text="{Binding Path=DataContext.SelectedRedemptionDTO.ManualTickets, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl},TargetNullValue=0}"
                                                    TextSize="XSmall"
                                                    FontWeight="{StaticResource FontWeight.Bold}"
                                                    Grid.Row="0"
                                                    Grid.Column="3" />
                            <common:CustomTextBlock x:Name="tbVoucherTicket"
                                                    Text="Voucher Tickets"
                                                    TextSize="XSmall"
                                                    Grid.Row="1"
                                                    Grid.Column="0" />
                            <common:CustomTextBlock x:Name="tbVoucherTicketValue"
                                                    Text="{Binding Path=DataContext.SelectedRedemptionDTO.ReceiptTickets, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl},TargetNullValue=0}"
                                                    TextSize="XSmall"
                                                    FontWeight="{StaticResource FontWeight.Bold}"
                                                    Grid.Row="1"
                                                    Grid.Column="1"
                                                    Margin="0,0,8,0" />
                            <common:CustomTextBlock x:Name="tbCurrencyTicket"
                                                    Text="Currency Tickets"
                                                    TextSize="XSmall"
                                                    Grid.Row="1"
                                                    Grid.Column="2" />
                            <common:CustomTextBlock x:Name="tbCurrencyTicketValue"
                                                    Text="{Binding Path=DataContext.SelectedRedemptionDTO.CurrencyTickets, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl},TargetNullValue=0}"
                                                    TextSize="XSmall"
                                                    FontWeight="{StaticResource FontWeight.Bold}"
                                                    Grid.Row="1"
                                                    Grid.Column="3" />
                        </Grid>
                    </Border>
                    <Border BorderThickness="0,1,0,0"
                            BorderBrush="{StaticResource Control.BorderBrush}"
                            Grid.Row="2"
                            Padding="8,4"
                            VerticalAlignment="Bottom">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1*" />
                                <ColumnDefinition>
                                    <ColumnDefinition.Style>
                                        <Style TargetType="{x:Type ColumnDefinition}">
                                            <Setter Property="Width"
                                                    Value="1*" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsTurnIn}"
                                                             Value="True">
                                                    <Setter Property="Width"
                                                            Value="Auto" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </ColumnDefinition.Style>
                                </ColumnDefinition>
                                <ColumnDefinition>
                                    <ColumnDefinition.Style>
                                        <Style TargetType="{x:Type ColumnDefinition}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding RedemptionsType}"
                                                             Value="Suspended">
                                                    <Setter Property="Width"
                                                            Value="Auto" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding RedemptionsType}"
                                                             Value="Completed">
                                                    <Setter Property="Width"
                                                            Value="1*" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </ColumnDefinition.Style>
                                </ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <common:CustomActionButton x:Name="btnRetreive"
                                                       Margin="0,0,4,0"
                                                       Grid.Column="0"
                                                       Content="RETRIEVE"
                                                       CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                       Command="{Binding SuspendCompleteActionsCommand}">
                                <common:CustomActionButton.Style>
                                    <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                           TargetType="{x:Type common:CustomActionButton}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding IsLoadTicket}"
                                                         Value="True">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RedemptionsType}"
                                                         Value="Completed">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </common:CustomActionButton.Style>
                            </common:CustomActionButton>

                            <common:CustomActionButton x:Name="btnReverse"
                                                       Margin="0,0,4,0"
                                                       Grid.Column="0"
                                                       Content="REVERSE"
                                                       CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                       Command="{Binding SuspendCompleteActionsCommand}">
                                <common:CustomActionButton.Style>
                                    <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                           TargetType="{x:Type common:CustomActionButton}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding IsLoadTicket}"
                                                         Value="True">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RedemptionsType}"
                                                         Value="Suspended">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RedemptionsType}"
                                                         Value="Completed">
                                                <Setter Property="Visibility"
                                                        Value="Visible" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </common:CustomActionButton.Style>
                            </common:CustomActionButton>

                            <common:CustomActionButton x:Name="btnChangeStatus"
                                                       Content="CHANGE STATUS"
                                                       Grid.Column="1"
                                                       CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                       Command="{Binding SuspendCompleteActionsCommand}"
                                                       IsEnabled="{Binding IsChangeStatusEnable}">
                                <common:CustomActionButton.Style>
                                    <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                           TargetType="{x:Type common:CustomActionButton}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding RedemptionsType}"
                                                         Value="Suspended">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RedemptionsType}"
                                                         Value="Completed">
                                                <Setter Property="Visibility"
                                                        Value="Visible" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding IsLoadTicket}"
                                                         Value="True">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                              <DataTrigger Binding="{Binding IsTurnIn}"
                                                         Value="True">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </common:CustomActionButton.Style>
                            </common:CustomActionButton>

                            <common:CustomActionButton x:Name="btnDelete"
                                                       Content="DELETE"
                                                       Grid.Column="1"
                                                       CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                       Command="{Binding SuspendCompleteActionsCommand}">
                                <common:CustomActionButton.Style>
                                    <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                           TargetType="{x:Type common:CustomActionButton}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding RedemptionsType}"
                                                         Value="Suspended">
                                                <Setter Property="Visibility"
                                                        Value="Visible" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RedemptionsType}"
                                                         Value="Completed">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </common:CustomActionButton.Style>
                            </common:CustomActionButton>

                            <common:CustomActionButton x:Name="btnPrint"
                                                       Content="PRINT"
                                                       FontSize="{StaticResource FontSize.Small}"
                                                       Margin="{StaticResource Redemption.ActionArea.Margin}"
                                                       CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                       Command="{Binding SuspendCompleteActionsCommand}">
                                <common:CustomActionButton.Style>
                                    <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                           TargetType="{x:Type common:CustomActionButton}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding RedemptionsType}"
                                                         Value="Suspended">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                                <Setter Property="Grid.Column"
                                                        Value="2" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RedemptionsType}"
                                                         Value="Completed">
                                                <Setter Property="Visibility"
                                                        Value="Visible" />
                                                <Setter Property="Grid.Column"
                                                        Value="2" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding IsLoadTicket}"
                                                         Value="True">
                                                <Setter Property="Grid.ColumnSpan"
                                                        Value="3" />
                                                <Setter Property="Grid.Column"
                                                        Value="0" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </common:CustomActionButton.Style>
                            </common:CustomActionButton>
                        </Grid>
                    </Border>
                </Grid>
            </Border>
        </DataTemplate>

        <DataTemplate x:Key="NewRightSection">
            <Border x:Name="RedemptionActionAreaBorder"
                    CornerRadius="{StaticResource RightSection.CornerRadius}"
                    Style="{StaticResource MulitScreenTransactionAreaBorderStyle}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="1*" />
                        <RowDefinition Height="9*" />
                    </Grid.RowDefinitions>
                    <Border Grid.Row="0"
                            BorderBrush="{StaticResource Control.BorderBrush}"
                            Padding="6,3">
                        <Border.Style>
                            <Style TargetType="{x:Type Border}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding MultiScreenMode}"
                                                 Value="False">
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </DataTrigger>
                                    <MultiDataTrigger>
                                        <MultiDataTrigger.Conditions>
                                            <Condition Binding="{Binding ElementName=RedemptionActionAreaGrid, Path=Visibility}"
                                                       Value="Visible" />
                                        </MultiDataTrigger.Conditions>
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </MultiDataTrigger>
                                      <MultiDataTrigger>
                                        <MultiDataTrigger.Conditions>
                                            <Condition Value="False">
                                                <Condition.Binding>
                                                    <MultiBinding Converter="{StaticResource AutoShowMenusConverter}">
                                                        <Binding Path="DataContext.LeftPaneSelectedItem"
                                                                 RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                                                        <Binding Path="DataContext.MultiScreenMode"
                                                                 RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                                                        <Binding Path="DataContext.AutoShowRedemptionProductMenu"
                                                                 RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                                                        <Binding Path="DataContext.AutoShowLoadTicketProductMenu"
                                                                 RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                                                    </MultiBinding>
                                                </Condition.Binding>
                                            </Condition>
                                            <Condition Binding="{Binding StayInTransactionMode}"
                                                       Value="False" />
                                        </MultiDataTrigger.Conditions>
                                        <Setter Property="Visibility"
                                                Value="Visible" />
                                    </MultiDataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Border.Style>
                        <StackPanel Grid.Column="0"
                                    HorizontalAlignment="Left"
                                    Orientation="Horizontal">
                            <Grid MaxWidth="{StaticResource Redemption.TransactionArea.ScreenUserGrid.MaxWidth}">
                                <Grid.Style>
                                    <Style TargetType="{x:Type Grid}">
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding DataContext.MultiScreenMode, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionUserControl}}"
                                                               Value="True" />
                                                    <Condition Binding="{Binding Path=DataContext.FooterVM.SideBarContent, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="Hide Sidebar" />
                                                    <Condition Binding="{Binding Path=DataContext.FooterVM.HideSideBarVisibility, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="Visible" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility"
                                                        Value="Collapsed">
                                                </Setter>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="8*" />
                                </Grid.ColumnDefinitions>
                                <common:CustomTextBlock x:Name="tbScreenNumber"
                                                        Text="{Binding ScreenNumber}"
                                                        TextSize="Small"
                                                        Grid.Column="0"
                                                        FontWeight="{StaticResource FontWeight.Bold}"
                                                        VerticalAlignment="Center"
                                                        Margin="0,0,8,0" />
                                <common:CustomTextBlock x:Name="tbUserName"
                                                        Text="{Binding UserName}"
                                                        TextSize="Small"
                                                        Grid.Column="1"
                                                        TextTrimming="CharacterEllipsis"
                                                        FontWeight="{StaticResource FontWeight.Bold}"
                                                        VerticalAlignment="Center"
                                                        Margin="0,0,8,0" />
                            </Grid>
                            <Button x:Name="btnShowContentArea"
                                    Grid.Column="0"
                                    HorizontalAlignment="Left"
                                    CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                    Command="{Binding ShowContentAreaClickedCommand}"
                                    Style="{StaticResource ShowContentAreaButtonStyle}" />
                        </StackPanel>
                    </Border>

                    <Grid x:Name="RedemptionActionAreaGrid"
                          Grid.Row="0"
                          Grid.RowSpan="2">
                        <Grid.Style>
                            <Style TargetType="{x:Type Grid}">
                                <Style.Triggers>
                                    <MultiDataTrigger>
                                        <MultiDataTrigger.Conditions>
                                            <Condition Binding="{Binding StayInTransactionMode}"
                                                       Value="False" />
                                            <Condition Binding="{Binding GenericTransactionListVM.ItemCollection.Count}"
                                                       Value="0" />
                                        </MultiDataTrigger.Conditions>
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </MultiDataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>
                        <Grid.RowDefinitions>
                            <RowDefinition>
                                <RowDefinition.Style>
                                    <Style TargetType="{x:Type RowDefinition}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding IsTurnIn}"
                                                         Value="True">
                                                <Setter Property="Height"
                                                        Value="5*" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding IsTurnIn}"
                                                         Value="False">
                                                <Setter Property="Height"
                                                        Value="8*" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </RowDefinition.Style>
                            </RowDefinition>
                            <RowDefinition>
                                <RowDefinition.Style>
                                    <Style TargetType="{x:Type RowDefinition}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding IsLowerResoultion}"
                                                         Value="True">
                                                <Setter Property="Height"
                                                        Value="1.8*" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding IsLowerResoultion}"
                                                         Value="False">
                                                <Setter Property="Height"
                                                        Value="Auto" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </RowDefinition.Style>
                            </RowDefinition>
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <common:GenericTransactionListUserControl DataContext="{Binding GenericTransactionListVM}"
                                                                  Grid.Row="0">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="SearchClicked">
                                    <i:InvokeCommandAction Command="{Binding Path=DataContext.ShowContentAreaClickedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                </i:EventTrigger>
                                <i:EventTrigger EventName="ResetClicked">
                                    <i:InvokeCommandAction Command="{Binding Path=DataContext.ResetCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                </i:EventTrigger>
                                <i:EventTrigger EventName="DeleteClicked">
                                    <i:InvokeCommandAction Command="{Binding Path=DataContext.DeleteCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                </i:EventTrigger>
                                <i:EventTrigger EventName="ItemClicked">
                                    <i:InvokeCommandAction Command="{Binding Path=DataContext.TransactionItemClickedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </common:GenericTransactionListUserControl>

                        <Grid Grid.Row="1"
                              Grid.RowSpan="2">
                            <Grid.Style>
                                <Style TargetType="{x:Type Grid}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsTurnIn}"
                                                     Value="True">
                                            <Setter Property="Visibility"
                                                    Value="Visible" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsTurnIn}"
                                                     Value="False">
                                            <Setter Property="Visibility"
                                                    Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="2*" />
                                <RowDefinition Height="1*" />
                                <RowDefinition Height="1*" />
                            </Grid.RowDefinitions>
                            <Border Grid.Row="0"
                                    BorderBrush="{StaticResource Control.BorderBrush}"
                                    BorderThickness="0,1,0,0"
                                    Padding="8">
                                <UniformGrid Rows="1">
                                    <!--<common:CustomComboBox x:Name="cmbTurnInLocation"
                                                           ItemsSource="{Binding TurnInLocations}"
                                                           SelectedItem="{Binding SelectedTurnInLocation}"
                                                           DisplayMemberPath="Name"
                                                           Heading="TURN-IN LOC."
                                                           Size="XSmall" />-->
                                    <common:CustomComboBox x:Name="cmbTargetLocation"
                                                           ItemsSource="{Binding TargetLocations}"
                                                           SelectedItem="{Binding SelectedTargetLocation}"
                                                           DisplayMemberPath="Name"
                                                           Heading="TARGET LOC."
                                                           Size="XSmall" />
                                </UniformGrid>
                            </Border>
                            <Border Grid.Row="1"
                                    BorderBrush="{StaticResource Control.BorderBrush}"
                                    BorderThickness="0,1"
                                    Padding="8">
                                <UniformGrid Columns="2">
                                    <Border BorderThickness="0,0,0,2"
                                            Background="{StaticResource Control.BackGround}"
                                            Padding="8"
                                            CornerRadius="{StaticResource CornerRadius}"
                                            BorderBrush="{StaticResource Control.BorderBrush}">
                                        <UniformGrid Rows="2">
                                            <common:CustomTextBlock x:Name="tbTurnInTotalTicket"
                                                                    Text="TOTAL TKTS" />
                                            <common:CustomTextBlock x:Name="tbTurnInTotalTicketValue"
                                                                    FontWeight="{StaticResource FontWeight.Bold}"
                                                                    Text="{Binding LoadTotatlTicketText}" />
                                        </UniformGrid>
                                    </Border>
                                    <Border BorderThickness="0,0,0,2"
                                            Background="{StaticResource Control.BackGround}"
                                            Padding="8"
                                            Margin="8,0,0,0"
                                            CornerRadius="{StaticResource CornerRadius}"
                                            BorderBrush="{StaticResource Control.BorderBrush}">
                                        <UniformGrid Rows="2">
                                            <common:CustomTextBlock x:Name="tbCardHeading"
                                                                    Text="CARD" />
                                            <common:CustomTextBlock x:Name="tbCardValue"
                                                                    FontWeight="{StaticResource FontWeight.Bold}"
                                                                    Text="{Binding DataContext.TurnInCardInfoText,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}" />
                                        </UniformGrid>
                                    </Border>
                                </UniformGrid>
                            </Border>
                            <UniformGrid Grid.Row="2"
                                         Columns="3">
                                <common:CustomActionButton x:Name="btnTurnInScan"
                                                           Content="SCAN"
                                                           FontSize="{StaticResource FontSize.Small}"
                                                           Margin="{StaticResource Redemption.ActionArea.Margin}"
                                                           Style="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Command="{Binding TransactionActionsCommand}" />
                                <common:CustomActionButton x:Name="btnTurnInPrint"
                                                           Content="PRINT"
                                                           FontSize="{StaticResource FontSize.Small}"
                                                           Margin="{StaticResource Redemption.ActionArea.Margin}"
                                                           Style="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Command="{Binding TransactionActionsCommand}" />
                                <common:CustomActionButton x:Name="btnTurnInComplete"
                                                           Content="COMPLETE"
                                                           Style="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                                           FontSize="{StaticResource FontSize.Small}"
                                                           Margin="{StaticResource Redemption.ActionArea.Margin}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Command="{Binding TransactionActionsCommand}" />
                            </UniformGrid>
                        </Grid>

                        <Border BorderBrush="{StaticResource Control.BorderBrush}"
                                BorderThickness="0,1,0,0"
                                Grid.Row="1">
                            <Border.Style>
                                <Style TargetType="{x:Type Border}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsTurnIn}"
                                                     Value="True">
                                            <Setter Property="Visibility"
                                                    Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                            <Grid>
                                <Grid DataContext="{Binding RightSectionDisplayTagsVM}">
                                    <Grid.Style>
                                        <Style TargetType="{x:Type Grid}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding DataContext.IsLoadTicket, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                                             Value="True">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding DataContext.MultiScreenMode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                                             Value="True">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding DataContext.IsLowerResoultion, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                                             Value="True">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <ItemsControl ItemsSource="{Binding DisplayTags}"
                                                  Margin="8,8,8,0">
                                        <ItemsControl.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <UniformGrid Columns="2" />
                                            </ItemsPanelTemplate>
                                        </ItemsControl.ItemsPanel>
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Border x:Name="ItemBackgroundBorder"
                                                        CornerRadius="{StaticResource CornerRadius}"
                                                        Margin="8,0,8,8"
                                                        Padding="8">
                                                    <i:Interaction.Triggers>
                                                        <i:EventTrigger EventName="MouseDown">
                                                            <i:InvokeCommandAction CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=Border}}"
                                                                                   Command="{Binding Path=DataContext.TotalTicketClickedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                                        </i:EventTrigger>
                                                    </i:Interaction.Triggers>
                                                    <ItemsControl ItemsSource="{Binding}">
                                                        <ItemsControl.ItemsPanel>
                                                            <ItemsPanelTemplate>
                                                                <UniformGrid Margin="16,-2"
                                                                             Rows="{Binding Count}"
                                                                             Columns="1" />
                                                            </ItemsPanelTemplate>
                                                        </ItemsControl.ItemsPanel>
                                                        <ItemsControl.ItemTemplate>
                                                            <DataTemplate>
                                                                <common:CustomTextBlock x:Name="tbDisplayContent"
                                                                                        VerticalAlignment="Top"
                                                                                        TextTrimming="CharacterEllipsis"
                                                                                        HorizontalAlignment="Left"
                                                                                        TextSize="{Binding TextSize}"
                                                                                        Text="{Binding Text}"
                                                                                        Foreground="{Binding Foreground,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=ItemsControl}}"
                                                                                        FontWeight="{Binding FontWeight}"
                                                                                        Margin="0,-2" />
                                                            </DataTemplate>
                                                        </ItemsControl.ItemTemplate>
                                                        <ItemsControl.Style>
                                                            <Style TargetType="{x:Type ItemsControl}">
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding Converter={StaticResource CheckButtonTypeConverter}}"
                                                                                 Value="True">
                                                                        <Setter Property="Foreground"
                                                                                Value="{StaticResource Action.Active.Foreground}" />
                                                                    </DataTrigger>
                                                                    <DataTrigger Binding="{Binding Converter={StaticResource CheckButtonTypeConverter}}"
                                                                                 Value="False">
                                                                        <Setter Property="Foreground"
                                                                                Value="{StaticResource TopHeader.Foreground}" />
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </ItemsControl.Style>
                                                    </ItemsControl>
                                                    <Border.Style>
                                                        <Style TargetType="{x:Type Border}">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding Converter={StaticResource CheckButtonTypeConverter}}"
                                                                             Value="True">
                                                                    <Setter Property="BorderThickness"
                                                                            Value="0,0,0,3" />
                                                                    <Setter Property="BorderBrush"
                                                                            Value="{StaticResource Control.BorderBrush}" />
                                                                    <Setter Property="Background"
                                                                            Value="{StaticResource Action.Active.Background}" />
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding Converter={StaticResource CheckButtonTypeConverter}}"
                                                                             Value="False">
                                                                    <Setter Property="IsEnabled"
                                                                            Value="False" />
                                                                    <Setter Property="Background"
                                                                            Value="{StaticResource TopHeader.Content.Background}" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Border.Style>
                                                </Border>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </Grid>
                                <Viewbox Stretch="Fill"
                                         Margin="0,8">
                                    <Viewbox.Style>
                                        <Style TargetType="{x:Type Viewbox}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding MultiScreenMode}"
                                                             Value="False">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding DataContext.IsLowerResoultion, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                                             Value="True">
                                                    <Setter Property="Visibility"
                                                            Value="Visible" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsLoadTicket}"
                                                             Value="True">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Viewbox.Style>
                                    <common:DisplayTagsUserControl DataContext="{Binding RightSectionDisplayTagsVM}"
                                                                   HorizontalAlignment="Left">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ItemClicked">
                                                <i:InvokeCommandAction Command="{Binding Path=DataContext.TotalTicketClickedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </common:DisplayTagsUserControl>
                                </Viewbox>
                                <Grid Margin="12,8">
                                    <Grid.Style>
                                        <Style  TargetType="{x:Type Grid}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsLoadTicket}"
                                                             Value="False">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <common:CustomTextBlock x:Name="tbTotalTicket"
                                                            Text="Total Tickets"
                                                            VerticalAlignment="Bottom"
                                                            FontWeight="{StaticResource FontWeight.Bold}"
                                                            HorizontalAlignment="Left" />
                                    <common:CustomTextBlock x:Name="tbTotalTicketValue"
                                                            Grid.Column="1"
                                                            VerticalAlignment="Bottom"
                                                            Text="{Binding LoadTotatlTicketText}"
                                                            FontWeight="{StaticResource FontWeight.Bold}"
                                                            HorizontalAlignment="Right" />
                                </Grid>
                            </Grid>
                        </Border>
                        <Border x:Name="ActionButtonBorder"
                                BorderBrush="{StaticResource Control.BorderBrush}"
                                BorderThickness="0,1,0,0"
                                Grid.Row="2"
                                Padding="8">
                            <Border.Style>
                                <Style TargetType="{x:Type Border}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsTurnIn}"
                                                     Value="True">
                                            <Setter Property="Visibility"
                                                    Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                            <UniformGrid>
                                <UniformGrid.Style>
                                    <Style TargetType="{x:Type UniformGrid}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding IsLoadTicket}"
                                                         Value="False">
                                                <Setter Property="Rows"
                                                        Value="2" />
                                                <Setter Property="Columns"
                                                        Value="3" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding IsLoadTicket}"
                                                         Value="True">
                                                <Setter Property="Rows"
                                                        Value="2" />
                                                <Setter Property="Columns"
                                                        Value="2" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </UniformGrid.Style>
                                <common:CustomActionButton x:Name="btnScan"
                                                           FontSize="{StaticResource FontSize.Small}"
                                                           Margin="{StaticResource Redemption.ActionArea.Margin}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Content="SCAN"
                                                           Command="{Binding TransactionActionsCommand}">
                                    <common:CustomActionButton.Style>
                                        <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                               TargetType="{x:Type common:CustomActionButton}">
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                   Value="Redemption" />
                                                        <Condition Binding="{Binding DataContext.EnableEnterTicketNumberManually,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                                                   Value="True" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Content"
                                                            Value="SCAN/ENTER" />
                                                </MultiDataTrigger>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                   Value="LoadTicket" />
                                                        <Condition Binding="{Binding DataContext.EnableEnterTicketNumberManually,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                                                   Value="True" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Content"
                                                            Value="SCAN/ENTER" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </common:CustomActionButton.Style>
                                </common:CustomActionButton>

                                <common:CustomActionButton x:Name="btnAddTicket"
                                                           Content="ADD TKT"
                                                           FontSize="{StaticResource FontSize.Small}"
                                                           Margin="{StaticResource Redemption.ActionArea.Margin}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Command="{Binding TransactionActionsCommand}">
                                    <common:CustomActionButton.Style>
                                        <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                               TargetType="{x:Type common:CustomActionButton}">
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding DataContext.EnableManualTicket, 
                                                            RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                   Value="False" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="IsEnabled"
                                                            Value="False" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </common:CustomActionButton.Style>
                                </common:CustomActionButton>
                                <common:CustomActionButton x:Name="btnLoadTicket"
                                                           FontSize="{StaticResource FontSize.Small}"
                                                           Margin="{StaticResource Redemption.ActionArea.Margin}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Content="LOAD TO CARD"
                                                           Command="{Binding TransactionActionsCommand}">
                                    <common:CustomActionButton.Style>
                                        <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                               TargetType="{x:Type common:CustomActionButton}">
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <!--<Condition Binding="{Binding IsLoadTicket}"
                                                                   Value="True" />-->
                                                        <Condition Binding="{Binding DataContext.EnableLoadToCard, 
                                                            RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                   Value="False" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="IsEnabled"
                                                            Value="False" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </common:CustomActionButton.Style>
                                </common:CustomActionButton>
                                <common:CustomActionButton x:Name="btnSuspend"
                                                           Content="SUSPEND"
                                                           FontSize="{StaticResource FontSize.Small}"
                                                           Margin="{StaticResource Redemption.ActionArea.Margin}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Command="{Binding TransactionActionsCommand}">
                                    <common:CustomActionButton.Style>
                                        <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                               TargetType="{x:Type common:CustomActionButton}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsLoadTicket}"
                                                             Value="True">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding DataContext.EnableSuspend,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                             Value="False">
                                                    <Setter Property="IsEnabled"
                                                            Value="False" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </common:CustomActionButton.Style>
                                </common:CustomActionButton>
                                <common:CustomActionButton x:Name="btnPrint"
                                                           Content="PRINT"
                                                           FontSize="{StaticResource FontSize.Small}"
                                                           Margin="{StaticResource Redemption.ActionArea.Margin}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Command="{Binding TransactionActionsCommand}">
                                    <common:CustomActionButton.Style>
                                        <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                               TargetType="{x:Type common:CustomActionButton}">
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding IsLoadTicket}"
                                                                   Value="True" />
                                                        <Condition Binding="{Binding DataContext.EnableConsolidatePrint, 
                                                            RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                   Value="False" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="IsEnabled"
                                                            Value="False" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </common:CustomActionButton.Style>
                                </common:CustomActionButton>
                                <common:CustomActionButton x:Name="btnComplete"
                                                           Content="COMPLETE"
                                                           FontSize="{StaticResource FontSize.Small}"
                                                           Margin="{StaticResource Redemption.ActionArea.Margin}"
                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                           Command="{Binding TransactionActionsCommand}">
                                    <common:CustomActionButton.Style>
                                        <Style BasedOn="{StaticResource MultiScreenSuspendCompleteActionButtonStyle}"
                                               TargetType="{x:Type common:CustomActionButton}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsLoadTicket}"
                                                             Value="True">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </common:CustomActionButton.Style>
                                </common:CustomActionButton>
                            </UniformGrid>
                        </Border>
                    </Grid>
                    <Grid Grid.Row="1">
                        <Grid.Style>
                            <Style TargetType="{x:Type Grid}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Visibility, ElementName=RedemptionActionAreaGrid}"
                                                 Value="Visible">
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="9*" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <StackPanel Orientation="Vertical"
                                    VerticalAlignment="Center"
                                    HorizontalAlignment="Center">
                            <StackPanel Orientation="Horizontal"
                                        Margin="0,0,0,16"
                                        HorizontalAlignment="Center">
                                <common:CustomTextBlock HorizontalAlignment="Center"
                                                        Style="{StaticResource MultiScreenCustomTextBlockStyle}"
                                                        Margin="0,0,8,0" />
                                <common:CustomTextBlock HorizontalAlignment="Center"
                                                        Text="OR"
                                                        FontWeight="{StaticResource FontWeight.Bold}">
                                    <common:CustomTextBlock.Style>
                                        <Style BasedOn="{StaticResource {x:Type common:CustomTextBlock}}"
                                               TargetType="{x:Type common:CustomTextBlock}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Path=DataContext.AllowRedemptionsWithoutCard, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                                             Value="False">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding ShowNoCurrencyTextBlock}"
                                                                   Value="True" />
                                                        <Condition Binding="{Binding IsLoadTicket}"
                                                                   Value="True" />
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </common:CustomTextBlock.Style>
                                </common:CustomTextBlock>
                            </StackPanel>
                            <common:CustomActionButton x:Name="btnScanTicket"
                                                       CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                       Command="{Binding ScanEnterCommand}"
                                                       Padding="32,0"
                                                       Margin="0,0,0,16">
                                <common:CustomActionButton.Style>
                                    <Style BasedOn="{StaticResource {x:Type common:CustomActionButton}}"
                                           TargetType="{x:Type common:CustomActionButton}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Path=DataContext.AllowRedemptionsWithoutCard, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                                         Value="False">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding IsLoadTicket}"
                                                         Value="True">
                                                <Setter Property="Content"
                                                        Value="SCAN TICKET" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                   Value="Redemption">
                                                <Setter Property="Content"
                                                        Value="SCAN TICKET/GIFT" />
                                            </DataTrigger>                                            
                                            <DataTrigger Binding="{Binding IsTurnIn}"
                                                         Value="True">
                                                <Setter Property="Content"
                                                        Value="SCAN GIFT" />
                                            </DataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="LoadTicket" />
                                                    <Condition Binding="{Binding DataContext.EnableEnterTicketNumberManually,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                                               Value="False" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Content"
                                                        Value="SCAN TICKET" />
                                            </MultiDataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="LoadTicket" />
                                                    <Condition Binding="{Binding DataContext.EnableEnterTicketNumberManually,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                                               Value="True" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Content"
                                                        Value="SCAN/ENTER TKT" />
                                            </MultiDataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="Redemption" />
                                                    <Condition Binding="{Binding DataContext.EnableEnterTicketNumberManually,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                                               Value="False" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Content"
                                                        Value="SCAN TICKET/GIFT" />
                                            </MultiDataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="Redemption" />
                                                    <Condition Binding="{Binding DataContext.EnableEnterTicketNumberManually,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                                               Value="True" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Content"
                                                        Value="SCAN/ENTER" />
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </common:CustomActionButton.Style>
                            </common:CustomActionButton>
                            <common:CustomActionButton x:Name="btnaddtkt"
                                                       CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                       Command="{Binding ScanEnterCommand}"
                                                       Content="ADD TKT"
                                                       Padding="32,0"
                                                       Margin="0,0,0,16">
                                <common:CustomActionButton.Style>
                                    <Style BasedOn="{StaticResource {x:Type common:CustomActionButton}}"
                                           TargetType="{x:Type common:CustomActionButton}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Path=DataContext.AllowRedemptionsWithoutCard, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                                         Value="False">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding IsTurnIn}"
                                                         Value="True">
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </DataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="Redemption" />
                                                    <Condition Binding="{Binding DataContext.EnableManualTicket,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                                               Value="False" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </MultiDataTrigger>
                                            <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                            Value="LoadTicket" />
                                                <Condition Binding="{Binding DataContext.EnableManualTicket,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                            Value="False" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility"
                                                    Value="Collapsed" />
                                            </MultiDataTrigger>                                            
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="LoadTicket" />
                                                    <Condition Binding="{Binding DataContext.EnableManualTicket,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                               Value="False" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility"
                                                        Value="Collapsed" />
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </common:CustomActionButton.Style>
                            </common:CustomActionButton>
                        </StackPanel>

                        <Border x:Name="DisplaytagsBorder"
                                BorderBrush="{StaticResource Control.BorderBrush}"
                                Background="Transparent"
                                BorderThickness="0,1,0,0"
                                Grid.Row="1"
                                VerticalAlignment="Bottom">
                            <Border.Style>
                                <Style TargetType="{x:Type Border}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsLoadTicket}"
                                                     Value="True">
                                            <Setter Property="Visibility"
                                                    Value="Collapsed" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsTurnIn}"
                                                     Value="True">
                                            <Setter Property="Visibility"
                                                    Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                            <Grid>
                                <Grid DataContext="{Binding RightSectionDisplayTagsVM}">
                                    <Grid.Style>
                                        <Style TargetType="{x:Type Grid}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding DataContext.MultiScreenMode, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                                             Value="True">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <ItemsControl ItemsSource="{Binding DisplayTags}"
                                                  Margin="8,8,8,0">
                                        <ItemsControl.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <UniformGrid Columns="2" />
                                            </ItemsPanelTemplate>
                                        </ItemsControl.ItemsPanel>
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Border x:Name="ItemBackgroundBorder"
                                                        CornerRadius="{StaticResource CornerRadius}"
                                                        Margin="8,0,8,8"
                                                        Padding="8">
                                                    <i:Interaction.Triggers>
                                                        <i:EventTrigger EventName="MouseDown">
                                                            <i:InvokeCommandAction CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=Border}}"
                                                                                   Command="{Binding Path=DataContext.TotalTicketClickedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                                        </i:EventTrigger>
                                                    </i:Interaction.Triggers>
                                                    <ItemsControl ItemsSource="{Binding}">
                                                        <ItemsControl.ItemsPanel>
                                                            <ItemsPanelTemplate>
                                                                <UniformGrid Margin="16,-2"
                                                                             Rows="{Binding Count}"
                                                                             Columns="1" />
                                                            </ItemsPanelTemplate>
                                                        </ItemsControl.ItemsPanel>
                                                        <ItemsControl.ItemTemplate>
                                                            <DataTemplate>
                                                                <common:CustomTextBlock x:Name="tbDisplayContent"
                                                                                        VerticalAlignment="Top"
                                                                                        TextTrimming="CharacterEllipsis"
                                                                                        HorizontalAlignment="Left"
                                                                                        TextSize="{Binding TextSize}"
                                                                                        Text="{Binding Text}"
                                                                                        Foreground="{Binding Foreground,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=ItemsControl}}"
                                                                                        FontWeight="{Binding FontWeight}"
                                                                                        Margin="0,-2" />
                                                            </DataTemplate>
                                                        </ItemsControl.ItemTemplate>
                                                        <ItemsControl.Style>
                                                            <Style TargetType="{x:Type ItemsControl}">
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding Converter={StaticResource CheckButtonTypeConverter}}"
                                                                                 Value="True">
                                                                        <Setter Property="Foreground"
                                                                                Value="{StaticResource Action.Active.Foreground}" />
                                                                    </DataTrigger>
                                                                    <DataTrigger Binding="{Binding Converter={StaticResource CheckButtonTypeConverter}}"
                                                                                 Value="False">
                                                                        <Setter Property="Foreground"
                                                                                Value="{StaticResource TopHeader.Foreground}" />
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </ItemsControl.Style>
                                                    </ItemsControl>
                                                    <Border.Style>
                                                        <Style TargetType="{x:Type Border}">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding Converter={StaticResource CheckButtonTypeConverter}}"
                                                                             Value="True">
                                                                    <Setter Property="BorderThickness"
                                                                            Value="0,0,0,3" />
                                                                    <Setter Property="BorderBrush"
                                                                            Value="{StaticResource Control.BorderBrush}" />
                                                                    <Setter Property="Background"
                                                                            Value="{StaticResource Action.Active.Background}" />
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding Converter={StaticResource CheckButtonTypeConverter}}"
                                                                             Value="False">
                                                                    <Setter Property="IsEnabled"
                                                                            Value="False" />
                                                                    <Setter Property="Background"
                                                                            Value="{StaticResource TopHeader.Content.Background}" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Border.Style>
                                                </Border>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </Grid>
                                <Viewbox Margin="0,8"
                                         Stretch="Uniform">
                                    <Viewbox.Style>
                                        <Style TargetType="{x:Type Viewbox}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding MultiScreenMode}"
                                                             Value="False">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Viewbox.Style>
                                    <common:DisplayTagsUserControl DataContext="{Binding RightSectionDisplayTagsVM}"
                                                                   HorizontalAlignment="Left">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="ItemClicked">
                                                <i:InvokeCommandAction Command="{Binding Path=DataContext.TotalTicketClickedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </common:DisplayTagsUserControl>
                                </Viewbox>
                            </Grid>
                        </Border>
                    </Grid>
                </Grid>
            </Border>
        </DataTemplate>
    </UserControl.Resources>

    <Grid x:Name="RedemptionMainGrid">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1*" />
            <ColumnDefinition Width="1*" />
            <ColumnDefinition Width="1*" />
            <ColumnDefinition Width="1*" />
            <ColumnDefinition Width="1*" />
            <ColumnDefinition Width="1*"
                              MaxWidth="{StaticResource MaxWidth}" />
            <ColumnDefinition Width="1*"
                              MaxWidth="{StaticResource MaxWidth}" />
            <ColumnDefinition Width="1*"
                              MaxWidth="{StaticResource MaxWidth}" />
        </Grid.ColumnDefinitions>

        <Grid Grid.Column="0">
            <Grid.Style>
                <Style TargetType="{x:Type Grid}">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding MultiScreenMode}"
                                     Value="True">
                            <Setter Property="Grid.ColumnSpan"
                                    Value="8" />
                        </DataTrigger>
                        <DataTrigger Binding="{Binding MultiScreenMode}"
                                     Value="False">
                            <Setter Property="Grid.ColumnSpan"
                                    Value="5" />
                        </DataTrigger>
                        <DataTrigger Binding="{Binding IsLoadTicket}"
                                     Value="True">
                            <Setter Property="Visibility"
                                    Value="Collapsed" />
                        </DataTrigger>
                        <DataTrigger Binding="{Binding ShowNoCurrencyTextBlock}"
                                     Value="False">
                            <Setter Property="Visibility"
                                    Value="Collapsed" />
                        </DataTrigger>
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding ShowNoCurrencyTextBlock}"
                                           Value="True" />
                                <Condition Binding="{Binding IsLoadTicket}"
                                           Value="True" />
                                <Condition Binding="{Binding RedemptionsType}"
                                           Value="New" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="Visibility"
                                    Value="Visible" />
                        </MultiDataTrigger>
                        <DataTrigger Binding="{Binding RedemptionsType}"
                                     Value="Completed">
                            <Setter Property="Visibility"
                                    Value="Collapsed" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Grid.Style>
            <common:CustomTextBlock x:Name="tbNoCurrency"
                                    Text="No currencies are available in the system. Please scan ticket to proceed."
                                    FontWeight="{StaticResource FontWeight.Bold}"
                                    TextWrapping="Wrap"
                                    TextSize="Medium"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center" />
        </Grid>

        <Grid Grid.Column="0"
              Margin="8,0">
            <Grid.Style>
                <Style TargetType="{x:Type Grid}">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding MultiScreenMode}"
                                     Value="True">
                            <Setter Property="Visibility"
                                    Value="Collapsed" />
                        </DataTrigger>
                        <DataTrigger Binding="{Binding MultiScreenMode}"
                                     Value="False">
                            <Setter Property="Visibility"
                                    Value="Visible" />
                            <Setter Property="Grid.ColumnSpan"
                                    Value="5" />
                        </DataTrigger>
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding MultiScreenMode}"
                                           Value="True" />
                                <Condition Binding="{Binding IsContentAreaVisible}"
                                           Value="True" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="Visibility"
                                    Value="Visible" />
                            <Setter Property="Grid.ColumnSpan"
                                    Value="8" />
                        </MultiDataTrigger>
                    </Style.Triggers>
                </Style>
            </Grid.Style>
            <Grid.RowDefinitions>
                <RowDefinition>
                    <RowDefinition.Style>
                        <Style TargetType="{x:Type RowDefinition}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding DataContext.MultiScreenMode,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                             Value="False">
                                    <Setter Property="Height"
                                            Value="Auto" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding DataContext.MultiScreenMode,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                             Value="True">
                                    <Setter Property="Height"
                                            Value="Auto" />
                                </DataTrigger>
                                <DataTrigger  Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                              Value="2">
                                    <Setter Property="Height"
                                            Value="2.8*" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding DataContext.ShowHeader,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionView}}"
                                             Value="False">
                                    <Setter Property="Height"
                                            Value="Auto" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </RowDefinition.Style>
                </RowDefinition>
                <RowDefinition Height="9*" />
            </Grid.RowDefinitions>

            <ContentControl x:Name="ToggleButtonContentControl"
                            Content="{Binding}">
                <ContentControl.Style>
                    <Style TargetType="{x:Type ContentControl}">
                        <Setter Property="ContentTemplate"
                                Value="{StaticResource SingleScreenToggleButtonTemplate}" />
                        <Style.Triggers>
                            <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                    <Condition Binding="{Binding DataContext.MultiScreenMode, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionUserControl}}"
                                               Value="True" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="ContentTemplate"
                                        Value="{StaticResource MultiScreenToggleButtonTemplate}" />
                            </MultiDataTrigger>
                            <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                    <Condition Binding="{Binding MultiScreenMode}"
                                               Value="True" />
                                    <Condition Binding="{Binding IsLoadTicket}"
                                               Value="True" />
                                    <Condition Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                               Value="1" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="ContentTemplate"
                                        Value="{StaticResource SingleScreenToggleButtonTemplate}" />
                            </MultiDataTrigger>
                            <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                    <Condition Binding="{Binding MultiScreenMode}"
                                               Value="True" />
                                    <Condition Binding="{Binding IsVoucher}"
                                               Value="True" />
                                    <Condition Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                               Value="1" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="ContentTemplate"
                                        Value="{StaticResource SingleScreenToggleButtonTemplate}" />
                            </MultiDataTrigger>
                            <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                    <Condition Binding="{Binding MultiScreenMode}"
                                               Value="True" />
                                    <Condition Binding="{Binding IsTurnIn}"
                                               Value="True" />
                                    <Condition Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                               Value="1" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="ContentTemplate"
                                        Value="{StaticResource SingleScreenToggleButtonTemplate}" />
                            </MultiDataTrigger>
                        </Style.Triggers>
                    </Style>
                </ContentControl.Style>
            </ContentControl>

            <ContentControl x:Name="ContentAreaContentControl"
                            Content="{Binding}"
                            Grid.Row="1">
                <ContentControl.Style>
                    <Style TargetType="{x:Type ContentControl}">
                        <Setter Property="ContentTemplate">
                            <Setter.Value>
                                <DataTemplate>
                                    <common:CustomDataGridUserControl DataContext="{Binding CustomDataGridVM}">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding DataContext.IsSelectedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </common:CustomDataGridUserControl>
                                </DataTemplate>
                            </Setter.Value>
                        </Setter>
                        <Style.Triggers>
                            <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                    <Condition Binding="{Binding DataContext.RedemptionsType,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                               Value="New" />
                                    <Condition Binding="{Binding DataContext.IsVoucher,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                               Value="False" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="ContentTemplate">
                                    <Setter.Value>
                                        <DataTemplate>
                                            <Grid x:Name="ContentAreaGrid">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*" />
                                                    <RowDefinition Height="Auto" />
                                                </Grid.RowDefinitions>
                                                <common:GenericDisplayItemsUserControl x:Name="GenericDisplayItemsUserControl"
                                                                                   Background="Transparent"
                                                                                   DataContext="{Binding GenericDisplayItemsVM}">
                                                <i:Interaction.Triggers>
                                                    <i:EventTrigger EventName="ScrollChanged">
                                                        <i:InvokeCommandAction Command="{Binding DataContext.ScrollChangedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                                    </i:EventTrigger>
                                                    <i:EventTrigger EventName="ContentRendered">
                                                        <i:InvokeCommandAction Command="{Binding DataContext.ContentRenderedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                                    </i:EventTrigger>
                                                    <i:EventTrigger EventName="ItemClicked">
                                                        <i:InvokeCommandAction CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                                                               Command="{Binding DataContext.ItemClickedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                                    </i:EventTrigger>
                                                    <i:EventTrigger EventName="OfferOrInfoClicked">
                                                        <i:InvokeCommandAction Command="{Binding DataContext.ItemOfferOrInfoClickedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                                    </i:EventTrigger>
                                                </i:Interaction.Triggers>
                                            </common:GenericDisplayItemsUserControl>
                                                <Border x:Name="PaginationBorder"
                                                        Grid.Row="1"
                                                        Padding="0,4,0,0"
                                                        BorderThickness="0,1,0,0"
                                                        BorderBrush="{StaticResource Control.BorderBrush}">
                                                    <UniformGrid x:Name="PrevNextActionGrid"
                                                                 Columns="2"
                                                                 Style="{StaticResource PrevNextActionGridStyle}">
                                                        <common:CustomActionButton x:Name="btnPrev"
                                                                                   Content="PREV"
                                                                                   Margin="0,0,8,0"
                                                                                   Command="{Binding ActionsCommand}"
                                                                                   CommandParameter="{Binding Actions[0]}"
                                                                                   IsEnabled="{Binding EnablePreviousNavigation}"
                                                                                   Style="{StaticResource PaginationButtonsStyle}" />
                                                        <common:CustomActionButton x:Name="btnNext"
                                                                                   Content="NEXT"
                                                                                   Command="{Binding ActionsCommand}"
                                                                                   CommandParameter="{Binding Actions[1]}"
                                                                                   IsEnabled="{Binding EnableNextNavigation}"
                                                                                   Style="{StaticResource PaginationButtonsStyle}" />
                                                    </UniformGrid>
                                                </Border>
                                            </Grid>
                                        </DataTemplate>
                                    </Setter.Value>
                                </Setter>
                            </MultiDataTrigger>
                            <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                    <Condition Binding="{Binding ShowNoCurrencyTextBlock}"
                                               Value="True" />
                                    <Condition Binding="{Binding IsLoadTicket}"
                                               Value="True" />
                                    <Condition Binding="{Binding DataContext.RedemptionsType,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                               Value="Completed" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="ContentTemplate">
                                    <Setter.Value>
                                        <DataTemplate>
                                            <common:CustomDataGridUserControl DataContext="{Binding CustomDataGridVM}">
                                                <i:Interaction.Triggers>
                                                    <i:EventTrigger EventName="SelectionChanged">
                                                        <i:InvokeCommandAction Command="{Binding DataContext.IsSelectedCommand, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}" />
                                                    </i:EventTrigger>
                                                </i:Interaction.Triggers>
                                            </common:CustomDataGridUserControl>
                                        </DataTemplate>
                                    </Setter.Value>
                                </Setter>
                            </MultiDataTrigger>
                            <DataTrigger Binding="{Binding DataContext.SearchFilterVisbility, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionUserControl}}"
                                         Value="Visible">
                                <Setter Property="Visibility"
                                        Value="Collapsed" />
                            </DataTrigger>
                            <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                    <Condition Binding="{Binding ShowNoCurrencyTextBlock}"
                                               Value="True" />
                                    <Condition Binding="{Binding IsLoadTicket}"
                                               Value="True" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="Visibility"
                                        Value="Collapsed" />
                            </MultiDataTrigger>
                        </Style.Triggers>
                    </Style>
                </ContentControl.Style>
            </ContentControl>
            <Grid Grid.Row="1"
                  Margin="0,8,0,0">
                <Grid.Style>
                    <Style TargetType="{x:Type Grid}">
                        <Style.Triggers>
                            <MultiDataTrigger triggertrace:TriggerTracing.TriggerName="LoadTicketGrid"
                                              triggertrace:TriggerTracing.TraceEnabled="True">
                                <MultiDataTrigger.Conditions>
                                    <Condition Binding="{Binding ShowNoCurrencyTextBlock}"
                                               Value="True" />
                                    <Condition Binding="{Binding IsLoadTicket}"
                                               Value="True" />
                                    <Condition Binding="{Binding DataContext.RedemptionsType, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionUserControl}}"
                                               Value="New" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="Visibility"
                                        Value="Collapsed" />
                            </MultiDataTrigger>
                            <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                    <Condition Binding="{Binding ShowNoCurrencyTextBlock}"
                                               Value="True" />
                                    <Condition Binding="{Binding IsLoadTicket}"
                                               Value="True" />
                                    <Condition Binding="{Binding DataContext.RedemptionsType, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionUserControl}}"
                                               Value="Completed" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="Visibility"
                                        Value="{Binding SearchFilterVisbility}" />
                            </MultiDataTrigger>
                            <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                    <Condition Binding="{Binding ShowNoCurrencyTextBlock}"
                                               Value="False" />
                                    <Condition Binding="{Binding IsLoadTicket}"
                                               Value="True" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="Visibility"
                                        Value="{Binding SearchFilterVisbility}" />
                            </MultiDataTrigger>
                            <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                    <Condition Binding="{Binding IsLoadTicket}"
                                               Value="False" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="Visibility"
                                        Value="{Binding SearchFilterVisbility}" />
                            </MultiDataTrigger>
                        </Style.Triggers>
                    </Style>
                </Grid.Style>
                <Grid.RowDefinitions>
                    <RowDefinition Height="9*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <common:CustomScrollViewer x:Name="scvSearchFilter"
                                           Grid.Row="0"
                                           Background="Transparent"
                                           Style="{StaticResource MultiScreenScrollViewer}"
                                           Margin="0,0,0,8">
                    <ContentControl x:Name="SearchFilterContentControl"
                                    Content="{Binding}">
                        <ContentControl.Style>
                            <Style TargetType="{x:Type ContentControl}">
                                <Setter Property="ContentTemplate">
                                    <Setter.Value>
                                        <DataTemplate>
                                            <StackPanel Margin="0,0,12,0">
                                                <common:CustomTextBox x:Name="tbDefaultSearch"
                                                                      Text="{Binding SearchedReceiptNo}">
                                                    <common:CustomTextBox.Style>
                                                        <Style BasedOn="{StaticResource MultiScreenCustomTextBoxStyle}"
                                                               TargetType="{x:Type common:CustomTextBox}">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding IsLoadTicket}"
                                                                             Value="True">
                                                                    <Setter Property="Visibility"
                                                                            Value="Collapsed" />
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding IsVoucher}"
                                                                             Value="True">
                                                                    <Setter Property="DefaultValue"
                                                                            Value="Enter receipt number..." />
                                                                    <Setter Property="Heading"
                                                                            Value="Receipt Number" />
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                             Value="Redemption">
                                                                    <Setter Property="DefaultValue"
                                                                            Value="Enter product code or name..." />
                                                                    <Setter Property="Heading"
                                                                            Value="Code" />
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding IsTurnIn}"
                                                                             Value="True">
                                                                    <Setter Property="DefaultValue"
                                                                            Value="Enter product code or name..." />
                                                                    <Setter Property="Heading"
                                                                            Value="Code" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </common:CustomTextBox.Style>
                                                </common:CustomTextBox>
                                                <common:CustomTextBox x:Name="tbCardNumber"
                                                                      Text="{Binding SearchedCardNo}">
                                                    <common:CustomTextBox.Style>
                                                        <Style BasedOn="{StaticResource MultiScreenCustomTextBoxStyle}"
                                                               TargetType="{x:Type common:CustomTextBox}">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding IsVoucher}"
                                                                             Value="False">
                                                                    <Setter Property="Visibility"
                                                                            Value="Collapsed" />
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding IsVoucher}"
                                                                             Value="True">
                                                                    <Setter Property="Visibility"
                                                                            Value="Visible" />
                                                                    <Setter Property="DefaultValue"
                                                                            Value="Enter card number..." />
                                                                    <Setter Property="Heading"
                                                                            Value="Card Number" />
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                             Value="Redemption">
                                                                    <Setter Property="Visibility"
                                                                            Value="Visible" />
                                                                    <Setter Property="DefaultValue"
                                                                            Value="Enter product description..." />
                                                                    <Setter Property="Heading"
                                                                            Value="Description" />
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding IsTurnIn}"
                                                                             Value="True">
                                                                    <Setter Property="Visibility"
                                                                            Value="Visible" />
                                                                    <Setter Property="DefaultValue"
                                                                            Value="Enter product description..." />
                                                                    <Setter Property="Heading"
                                                                            Value="Description" />
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding IsLoadTicket}"
                                                                             Value="True">
                                                                    <Setter Property="Visibility"
                                                                            Value="Visible" />
                                                                    <Setter Property="DefaultValue"
                                                                            Value="Enter currency name..." />
                                                                    <Setter Property="Heading"
                                                                            Value="Name" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </common:CustomTextBox.Style>
                                                </common:CustomTextBox>
                                                <UniformGrid Grid.Row="1"
                                                             Columns="2">
                                                    <UniformGrid.Style>
                                                        <Style TargetType="{x:Type UniformGrid}">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding IsTurnIn}"
                                                                             Value="True">
                                                                    <Setter Property="Visibility"
                                                                            Value="Collapsed" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </UniformGrid.Style>
                                                    <common:CustomTextBox x:Name="tbBalanceTicketFrom"
                                                                          DefaultValue="From"
                                                                          Text="{Binding SearchedBalanceTicketFromOrOrderNo}"
                                                                          Margin="0,0,8,0">
                                                        <common:CustomTextBox.Style>
                                                            <Style BasedOn="{StaticResource MultiScreenCustomTextBoxStyle}"
                                                                   TargetType="{x:Type common:CustomTextBox}">
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                                 Value="Redemption">
                                                                        <Setter Property="Heading"
                                                                                Value="Price In Tickets" />
                                                                    </DataTrigger>
                                                                    <DataTrigger Binding="{Binding IsVoucher}"
                                                                                 Value="True">
                                                                        <Setter Property="Heading"
                                                                                Value="Balance Tickets" />
                                                                    </DataTrigger>
                                                                    <DataTrigger Binding="{Binding IsLoadTicket}"
                                                                                 Value="True">
                                                                        <Setter Property="Heading"
                                                                                Value="Ticket Value" />
                                                                        <Setter Property="ValidationType"
                                                                                Value="NumberOnly" />
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </common:CustomTextBox.Style>
                                                    </common:CustomTextBox>
                                                    <common:CustomTextBox x:Name="tbBalanceTicketTo"
                                                                          Text="{Binding SearchedBalanceTicketToOrPrdCodeDescBarcode}"
                                                                          DefaultValue="To"
                                                                          Heading=" ">
                                                        <common:CustomTextBox.Style>
                                                            <Style BasedOn="{StaticResource MultiScreenCustomTextBoxStyle}"
                                                                   TargetType="{x:Type common:CustomTextBox}">
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding IsLoadTicket}"
                                                                                 Value="True">
                                                                        <Setter Property="ValidationType"
                                                                                Value="NumberOnly" />
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </common:CustomTextBox.Style>
                                                    </common:CustomTextBox>
                                                </UniformGrid>
                                                <UniformGrid Grid.Row="2"
                                                             Columns="2">
                                                    <UniformGrid.Style>
                                                        <Style TargetType="{x:Type UniformGrid}">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding DataContext.LeftPaneSelectedItem,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}}"
                                                                             Value="Redemption">
                                                                    <Setter Property="Visibility"
                                                                            Value="Collapsed" />
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding IsLoadTicket}"
                                                                             Value="True">
                                                                    <Setter Property="Visibility"
                                                                            Value="Collapsed" />
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding IsTurnIn}"
                                                                             Value="True">
                                                                    <Setter Property="Visibility"
                                                                            Value="Collapsed" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </UniformGrid.Style>
                                                    <common:CustomTextBoxDatePicker x:Name="tbIssuedDateFrom"
                                                                                    Text="{Binding SearchedIssuedDateFrom,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                                                    DefaultValue="From"
                                                                                    Style="{StaticResource MultiScreenCustomDatePickerStyle}"
                                                                                    Heading="Issue Dates"
                                                                                    Margin="0,0,8,0">
                                                        <i:Interaction.Triggers>
                                                            <i:EventTrigger EventName="DatePickerLoaded">
                                                                <i:InvokeCommandAction CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=common:CustomTextBoxDatePicker}}"
                                                                                       Command="{Binding DatePickerLoadedCommand}" />
                                                            </i:EventTrigger>
                                                        </i:Interaction.Triggers>
                                                    </common:CustomTextBoxDatePicker>
                                                    <common:CustomTextBoxDatePicker x:Name="tbIssuedDateTo"
                                                                                    Text="{Binding SearchedIssuedDateTo,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                                                    Style="{StaticResource MultiScreenCustomDatePickerStyle}"
                                                                                    Heading=" "
                                                                                    DefaultValue="To">
                                                        <i:Interaction.Triggers>
                                                            <i:EventTrigger EventName="DatePickerLoaded">
                                                                <i:InvokeCommandAction CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=common:CustomTextBoxDatePicker}}"
                                                                                       Command="{Binding DatePickerLoadedCommand}" />
                                                            </i:EventTrigger>
                                                        </i:Interaction.Triggers>
                                                    </common:CustomTextBoxDatePicker>
                                                </UniformGrid>
                                            </StackPanel>
                                        </DataTemplate>
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding DataContext.RedemptionsType, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionUserControl}}"
                                                 Value="Completed">
                                        <Setter Property="ContentTemplate"
                                                Value="{StaticResource CompleteSearchTemplate}" />
                                    </DataTrigger>
                                    <MultiDataTrigger>
                                        <MultiDataTrigger.Conditions>
                                            <Condition Binding="{Binding ShowNoCurrencyTextBlock}"
                                                       Value="True" />
                                            <Condition Binding="{Binding IsLoadTicket}"
                                                       Value="True" />
                                            <Condition Binding="{Binding DataContext.RedemptionsType, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionUserControl}}"
                                                       Value="New" />
                                        </MultiDataTrigger.Conditions>
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </MultiDataTrigger>
                                </Style.Triggers>
                            </Style>
                        </ContentControl.Style>
                    </ContentControl>
                </common:CustomScrollViewer>

                <Border Grid.Row="1"
                        BorderBrush="{StaticResource Control.BorderBrush}"
                        BorderThickness="0,1,0,0"
                        Padding="0,8,0,0">
                    <ContentControl x:Name="SearchButttonsContentControl"
                                    Content="{Binding}">
                        <ContentControl.Style>
                            <Style TargetType="{x:Type ContentControl}">
                                <Setter Property="ContentTemplate">
                                    <Setter.Value>
                                        <DataTemplate>
                                            <UniformGrid Columns="2">
                                                <common:CustomActionButton x:Name="btnClear"
                                                                           Content="CLEAR"
                                                                           Margin="0,0,16,0"
                                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                                           Command="{Binding SearchActionsCommand}"
                                                                           ActionStyle="Passive" />
                                                <common:CustomActionButton x:Name="btnActionSearch"
                                                                           Content="SEARCH"
                                                                           CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                                                           Command="{Binding SearchActionsCommand}" />
                                            </UniformGrid>
                                        </DataTemplate>
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <MultiDataTrigger>
                                        <MultiDataTrigger.Conditions>
                                            <Condition Binding="{Binding DataContext.MultiScreenMode, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionUserControl}}"
                                                       Value="True" />
                                            <Condition Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                                       Value="2" />
                                        </MultiDataTrigger.Conditions>
                                        <Setter Property="ContentTemplate"
                                                Value="{StaticResource SearchButtonTemplate}" />
                                    </MultiDataTrigger>
                                    <MultiDataTrigger>
                                        <MultiDataTrigger.Conditions>
                                            <Condition Binding="{Binding ShowNoCurrencyTextBlock}"
                                                       Value="True" />
                                            <Condition Binding="{Binding IsLoadTicket}"
                                                       Value="True" />
                                            <Condition Binding="{Binding DataContext.RedemptionsType, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionUserControl}}"
                                                       Value="New" />
                                        </MultiDataTrigger.Conditions>
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </MultiDataTrigger>
                                </Style.Triggers>
                            </Style>
                        </ContentControl.Style>
                    </ContentControl>
                </Border>
            </Grid>
        </Grid>

        <ContentControl x:Name="RightSectionContentControl"
                        Content="{Binding}">
            <ContentControl.Style>
                <Style TargetType="{x:Type ContentControl}">
                    <Setter Property="ContentTemplate"
                            Value="{StaticResource NewRightSection}" />
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding MultiScreenMode}"
                                     Value="True">
                            <Setter Property="Visibility"
                                    Value="Visible" />
                            <Setter Property="Grid.ColumnSpan"
                                    Value="8" />
                            <Setter Property="Grid.Column"
                                    Value="0" />
                        </DataTrigger>
                        <DataTrigger Binding="{Binding MultiScreenMode}"
                                     Value="False">
                            <Setter Property="Grid.ColumnSpan"
                                    Value="3" />
                            <Setter Property="Grid.Column"
                                    Value="5" />
                        </DataTrigger>
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding MultiScreenMode}"
                                           Value="True" />
                                <Condition Binding="{Binding IsContentAreaVisible}"
                                           Value="True" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="Visibility"
                                    Value="Collapsed" />
                        </MultiDataTrigger>
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding RedemptionsType}"
                                           Value="New" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="ContentTemplate"
                                    Value="{StaticResource NewRightSection}" />
                        </MultiDataTrigger>
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding DataContext.MultiScreenMode, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionUserControl}}"
                                           Value="True" />
                                <Condition Binding="{Binding Path=DataContext.RowCount, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:RedemptionView}}"
                                           Value="2" />
                                <Condition Binding="{Binding RedemptionsType}"
                                           Value="New" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="ContentTemplate"
                                    Value="{StaticResource MultiScreenTransactionActionAreaTemplate}" />
                        </MultiDataTrigger>
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding RedemptionsType}"
                                           Value="Voucher" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="ContentTemplate"
                                    Value="{StaticResource FlagRightSection}" />
                        </MultiDataTrigger>
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding RedemptionsType}"
                                           Value="Flagged" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="ContentTemplate"
                                    Value="{StaticResource FlagRightSection}" />
                        </MultiDataTrigger>
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding RedemptionsType}"
                                           Value="Suspended" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="ContentTemplate"
                                    Value="{StaticResource SuspendedCompletedRightSection}" />
                        </MultiDataTrigger>
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding RedemptionsType}"
                                           Value="Completed" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="ContentTemplate"
                                    Value="{StaticResource SuspendedCompletedRightSection}" />
                        </MultiDataTrigger>
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding RedemptionsType}"
                                           Value="Suspended" />
                                <Condition Binding="{Binding CustomDataGridVM.UICollectionToBeRendered.Count}"
                                           Value="0" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="ContentTemplate"
                                    Value="{StaticResource SuspendedCompleted0ItemsTemplate}" />
                        </MultiDataTrigger>
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding RedemptionsType}"
                                           Value="Completed" />
                                <Condition Binding="{Binding CustomDataGridVM.UICollectionToBeRendered.Count}"
                                           Value="0" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="ContentTemplate"
                                    Value="{StaticResource SuspendedCompleted0ItemsTemplate}" />
                        </MultiDataTrigger>
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding RedemptionsType}"
                                           Value="Voucher" />
                                <Condition Binding="{Binding CustomDataGridVM.UICollectionToBeRendered.Count}"
                                           Value="0" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="ContentTemplate"
                                    Value="{StaticResource SuspendedCompleted0ItemsTemplate}" />
                        </MultiDataTrigger>
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding RedemptionsType}"
                                           Value="Flagged" />
                                <Condition Binding="{Binding CustomDataGridVM.UICollectionToBeRendered.Count}"
                                           Value="0" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="ContentTemplate"
                                    Value="{StaticResource SuspendedCompleted0ItemsTemplate}" />
                        </MultiDataTrigger>
                           <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Value="False">
                                    <Condition.Binding>
                                        <MultiBinding Converter="{StaticResource AutoShowMenusConverter}">
                                            <Binding Path="DataContext.LeftPaneSelectedItem"
                                                     RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                                            <Binding Path="DataContext.MultiScreenMode"
                                                     RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                                            <Binding Path="DataContext.AutoShowRedemptionProductMenu"
                                                     RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                                            <Binding Path="DataContext.AutoShowLoadTicketProductMenu"
                                                     RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                                        </MultiBinding>
                                    </Condition.Binding>
                                </Condition>
                                <Condition Binding="{Binding MultiScreenMode}"
                                           Value="False" />
                                <Condition Binding="{Binding IsContentAreaVisible}"
                                           Value="False" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="Visibility"
                                    Value="Visible" />
                            <Setter Property="Grid.ColumnSpan"
                                    Value="8" />
                            <Setter Property="Grid.Column"
                                    Value="0" />
                        </MultiDataTrigger>
                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Value="False">
                                    <Condition.Binding>
                                        <MultiBinding Converter="{StaticResource AutoShowMenusConverter}">
                                            <Binding Path="DataContext.LeftPaneSelectedItem"
                                                     RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                                            <Binding Path="DataContext.MultiScreenMode"
                                                     RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                                            <Binding Path="DataContext.AutoShowRedemptionProductMenu"
                                                     RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                                            <Binding Path="DataContext.AutoShowLoadTicketProductMenu"
                                                     RelativeSource="{RelativeSource Mode=FindAncestor,AncestorType=local:RedemptionMainUserControl}" />
                                        </MultiBinding>
                                    </Condition.Binding>
                                </Condition>
                                <Condition Binding="{Binding MultiScreenMode}"
                                           Value="False" />
                                <Condition Binding="{Binding IsContentAreaVisible}"
                                           Value="True" />
                            </MultiDataTrigger.Conditions>
                            <Setter Property="Visibility"
                                    Value="Visible" />
                            <Setter Property="Grid.ColumnSpan"
                                    Value="3" />
                            <Setter Property="Grid.Column"
                                    Value="5" />
                        </MultiDataTrigger>
                    </Style.Triggers>
                </Style>
            </ContentControl.Style>
        </ContentControl>
    </Grid>
</UserControl>
